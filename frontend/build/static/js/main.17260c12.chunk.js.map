{"version":3,"sources":["screens/SuccessScreen.js","constants/productConstants.js","actions/productActions.js","components/Rating.js","screens/HomeScreen.js","screens/ProductScreen.js","constants/cartConstants.js","actions/cartActions.js","screens/CartScreen.js","constants/userConstants.js","actions/userActions.js","screens/SigninScreen.js","screens/RegisterScreen.js","screens/ProductsScreen.js","components/CheckoutSteps.js","screens/ShippingScreen.js","screens/PaymentScreen.js","constants/orderConstants.js","screens/PlaceOrderScreen.js","actions/orderActions.js","screens/Logout.js","components/PaypalButton.js","components/StripeCheckout.js","screens/OrderScreen.js","screens/ProfileScreen.js","screens/OrdersScreen.js","screens/UsersScreen.js","screens/StripeScreen.js","img/header.jpg","App.js","store.js","reducers/productReducers.js","reducers/cartReducers.js","reducers/userReducers.js","reducers/orderReducers.js","index.js"],"names":["divStyle","textAlign","SuccessScreen","style","setTimeout","window","location","href","PRODUCT_LIST_REQUEST","PRODUCT_LIST_SUCCESS","PRODUCT_LIST_FAIL","PRODUCT_DETAILS_REQUEST","PRODUCT_DETAILS_SUCCESS","PRODUCT_DETAILS_FAIL","PRODUCT_SAVE_REQUEST","PRODUCT_SAVE_SUCCESS","PRODUCT_SAVE_FAIL","PRODUCT_DELETE_REQUEST","PRODUCT_DELETE_SUCCESS","PRODUCT_DELETE_FAIL","PRODUCT_REVIEW_SAVE_REQUEST","PRODUCT_REVIEW_SAVE_SUCCESS","PRODUCT_REVIEW_SAVE_FAIL","PRODUCT_REVIEW_SAVE_RESET","listProducts","category","searchKeyword","sortOrder","dispatch","type","axios","get","data","payload","message","saveProduct","product","getState","userInfo","userSignin","_id","Axios","post","headers","Authorization","token","put","Rating","props","value","className","text","HomeScreen","useState","setSearchKeyword","setSortOrder","match","params","id","productList","useSelector","state","products","loading","error","useDispatch","useEffect","onSubmit","e","preventDefault","name","onChange","target","map","to","src","image","alt","brand","price","rating","numReviews","ProductScreen","qty","setQty","setRating","comment","setComment","productDetails","productSaveSuccess","productReviewSave","success","bullets","document","querySelectorAll","length","forEach","bullet","i","setAttribute","images","productId","alert","handleAddToCart","history","push","reverse","index","description","countInStock","Array","keys","x","onClick","reviews","review","createdAt","substring","htmlFor","CART_ADD_ITEM","CART_REMOVE_ITEM","CART_SAVE_SHIPPING","CART_SAVE_PAYMENT","addToCart","cartItems","cart","Cookie","set","JSON","stringify","console","log","CartScreen","search","Number","split","removeFromCartHandler","removeFromCart","fetch","method","body","unitAmount","currency","then","res","json","response","quantity","addItem","checkoutHandler","item","reduce","a","c","disabled","USER_SIGNIN_REQUEST","USER_SIGNIN_SUCCESS","USER_SIGNIN_FAIL","USER_UPDATE_REQUEST","USER_UPDATE_SUCCESS","USER_UPDATE_FAIL","USER_REGISTER_REQUEST","USER_REGISTER_SUCCESS","USER_REGISTER_FAIL","USER_LOGOUT","logout","remove","SigninScreen","email","setEmail","password","setPassword","redirect","signin","placeholder","RegisterScreen","setName","setRePassword","userRegister","register","required","ProductsScreen","modalVisible","setModalVisible","setId","setPrice","setImage","setBrand","setCategory","setCountInStock","setDescription","uploading","setUploading","fileInput","useRef","productSave","loadingSave","successSave","errorSave","productDelete","successDelete","openModal","submitHandler","deleteHandler","delete","multiple","ref","files","file","bodyFormData","FormData","append","catch","err","CheckoutSteps","step1","step2","step3","step4","require","config","usps","server","userId","ttl","ShippingScreen","address","setAddress","city","setCity","setState","postalCode","setPostalCode","country","setCountry","contact","setContact","shipping","adresss","verify","street1","zip","verifiedAddress","getElementById","innerText","reload","PaymentScreen","paymentMethod","setPaymentMethod","for","ORDER_CREATE_REQUEST","ORDER_CREATE_SUCCESS","ORDER_CREATE_FAIL","ORDER_DETAILS_REQUEST","ORDER_DETAILS_SUCCESS","ORDER_DETAILS_FAIL","MY_ORDER_LIST_REQUEST","MY_ORDER_LIST_SUCCESS","MY_ORDER_LIST_FAIL","ORDER_LIST_REQUEST","ORDER_LIST_SUCCESS","ORDER_LIST_FAIL","ORDER_PAY_REQUEST","ORDER_PAY_SUCCESS","ORDER_PAY_FAIL","ORDER_DELETE_REQUEST","ORDER_DELETE_SUCCESS","ORDER_DELETE_FAIL","PlaceOrderScreen","orderCreate","order","payment","itemsPrice","shippingPrice","discount","taxPrice","totalPrice","coupon","parseInt","newOrder","createOrder","orderItems","Logout","PaypalButton","fetchPriceID","formatPrice","amount","numberFormat","Intl","NumberFormat","currencyDisplay","parts","formatToParts","zeroDecimalCurrency","total","toFixed","format","reducer","action","Error","StripeCheckout","orderDetails","priceFixed","items","getPriceID","productID","priceIncluded","priceCheck","toString","includes","replace","fetchCheckoutSession","orderID","userToken","useReducer","stripe","publicKey","loadStripe","fetchConfig","handleClick","event","sessionId","redirectToCheckout","role","OrderScreen","orderPay","loadingPay","successPay","orderId","isDelivered","deliveredAt","isPaid","paidAt","ProfileScreen","userUpdate","myOrderList","loadingOrders","orders","errorOrders","update","moment","utc","local","OrdersScreen","orderList","orderDelete","user","backgroundColor","color","borderRadius","border","padding","fontWeight","cursor","transition","display","width","UsersScreen","setCoupon","users","setUsers","editUser","setEditUser","fetchData","result","handleEdit","designMode","isAdmin","setUserCoupon","StripeScreen","App","setCategories","getProductCategories","header","querySelector","classList","path","component","exact","initialState","getJSON","combineReducers","find","filter","errror","composeEnhancer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","render"],"mappings":"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","file":"static/js/main.17260c12.chunk.js","sourcesContent":["\nimport React from 'react';\nconst divStyle = {\n   textAlign:\"center\"\n}\n\nfunction SuccessScreen() {\n\n\n  return (\n      <div style={divStyle}>\n        \n          <h1 >Payment Success</h1>\n    <h3>You will receive an email receipt shortly.</h3>\n        {setTimeout(() => { window.location.href = '/'},3000)}\n      </div>\n    \n  )\n}\nexport default SuccessScreen;\n","export const PRODUCT_LIST_REQUEST = 'PRODUCT_LIST_REQUEST';\nexport const PRODUCT_LIST_SUCCESS = 'PRODUCT_LIST_SUCCESS';\nexport const PRODUCT_LIST_FAIL = 'PRODUCT_LIST_FAIL';\n\nexport const PRODUCT_DETAILS_REQUEST = 'PRODUCT_DETAILS_REQUEST';\nexport const PRODUCT_DETAILS_SUCCESS = 'PRODUCT_DETAILS_SUCCESS';\nexport const PRODUCT_DETAILS_FAIL = 'PRODUCT_DETAILS_FAIL';\n\nexport const PRODUCT_SAVE_REQUEST = 'PRODUCT_SAVE_REQUEST';\nexport const PRODUCT_SAVE_SUCCESS = 'PRODUCT_SAVE_SUCCESS';\nexport const PRODUCT_SAVE_FAIL = 'PRODUCT_SAVE_FAIL';\n\nexport const PRODUCT_DELETE_REQUEST = 'PRODUCT_DELETE_REQUEST';\nexport const PRODUCT_DELETE_SUCCESS = 'PRODUCT_DELETE_SUCCESS';\nexport const PRODUCT_DELETE_FAIL = 'PRODUCT_DELETE_FAIL';\n\nexport const PRODUCT_REVIEW_SAVE_REQUEST = 'PRODUCT_REVIEW_SAVE_REQUEST';\nexport const PRODUCT_REVIEW_SAVE_SUCCESS = 'PRODUCT_REVIEW_SAVE_SUCCESS';\nexport const PRODUCT_REVIEW_SAVE_FAIL = 'PRODUCT_REVIEW_SAVE_FAIL';\nexport const PRODUCT_REVIEW_SAVE_RESET = 'PRODUCT_REVIEW_SAVE_RESET';\n","import {\n  PRODUCT_LIST_REQUEST,\n  PRODUCT_LIST_SUCCESS,\n  PRODUCT_LIST_FAIL,\n  PRODUCT_DETAILS_REQUEST,\n  PRODUCT_DETAILS_SUCCESS,\n  PRODUCT_DETAILS_FAIL,\n  PRODUCT_SAVE_REQUEST,\n  PRODUCT_SAVE_SUCCESS,\n  PRODUCT_SAVE_FAIL,\n  PRODUCT_DELETE_SUCCESS,\n  PRODUCT_DELETE_FAIL,\n  PRODUCT_DELETE_REQUEST,\n  PRODUCT_REVIEW_SAVE_REQUEST,\n  PRODUCT_REVIEW_SAVE_FAIL,\n  PRODUCT_REVIEW_SAVE_SUCCESS,\n} from \"../constants/productConstants\";\nimport axios from \"axios\";\nimport Axios from \"axios\";\n\nconst listProducts =\n  (category = \"\", searchKeyword = \"\", sortOrder = \"\") =>\n  async (dispatch) => {\n    try {\n      dispatch({ type: PRODUCT_LIST_REQUEST });\n      const { data } = await axios.get(\n        \"https://api.jackhixon.com/api/storefront/products?category=\" +\n          category +\n          \"&searchKeyword=\" +\n          searchKeyword +\n          \"&sortOrder=\" +\n          sortOrder\n      );\n      dispatch({ type: PRODUCT_LIST_SUCCESS, payload: data });\n    } catch (error) {\n      dispatch({ type: PRODUCT_LIST_FAIL, payload: error.message });\n    }\n  };\n\nconst saveProduct = (product) => async (dispatch, getState) => {\n  try {\n    dispatch({ type: PRODUCT_SAVE_REQUEST, payload: product });\n    const {\n      userSignin: { userInfo },\n    } = getState();\n    if (!product._id) {\n      const { data } = await Axios.post(\n        \"https://api.jackhixon.com/api/storefront/products\",\n        product,\n        {\n          headers: {\n            Authorization: \"Bearer \" + userInfo.token,\n          },\n        }\n      );\n      dispatch({ type: PRODUCT_SAVE_SUCCESS, payload: data });\n    } else {\n      const { data } = await Axios.put(\n        \"https://api.jackhixon.com/api/storefront/api/products/\" + product._id,\n        product,\n        {\n          headers: {\n            Authorization: \"Bearer \" + userInfo.token,\n          },\n        }\n      );\n      dispatch({ type: PRODUCT_SAVE_SUCCESS, payload: data });\n    }\n  } catch (error) {\n    dispatch({ type: PRODUCT_SAVE_FAIL, payload: error.message });\n  }\n};\n\nconst detailsProduct = (productId) => async (dispatch) => {\n  try {\n    dispatch({ type: PRODUCT_DETAILS_REQUEST, payload: productId });\n    const { data } = await axios.get(\n      \"https://api.jackhixon.com/api/storefront/\" + productId\n    );\n    dispatch({ type: PRODUCT_DETAILS_SUCCESS, payload: data });\n  } catch (error) {\n    dispatch({ type: PRODUCT_DETAILS_FAIL, payload: error.message });\n  }\n};\n\nconst deleteProdcut = (productId) => async (dispatch, getState) => {\n  try {\n    const {\n      userSignin: { userInfo },\n    } = getState();\n    dispatch({ type: PRODUCT_DELETE_REQUEST, payload: productId });\n    const { data } = await axios.delete(\"/api/products/\" + productId, {\n      headers: {\n        Authorization: \"Bearer \" + userInfo.token,\n      },\n    });\n    dispatch({ type: PRODUCT_DELETE_SUCCESS, payload: data, success: true });\n  } catch (error) {\n    dispatch({ type: PRODUCT_DELETE_FAIL, payload: error.message });\n  }\n};\n\nconst saveProductReview = (productId, review) => async (dispatch, getState) => {\n  try {\n    const {\n      userSignin: {\n        userInfo: { token },\n      },\n    } = getState();\n    dispatch({ type: PRODUCT_REVIEW_SAVE_REQUEST, payload: review });\n    const { data } = await axios.post(\n      `/api/products/${productId}/reviews`,\n      review,\n      {\n        headers: {\n          Authorization: \"Bearer \" + token,\n        },\n      }\n    );\n    dispatch({ type: PRODUCT_REVIEW_SAVE_SUCCESS, payload: data });\n  } catch (error) {\n    // report error\n    dispatch({ type: PRODUCT_REVIEW_SAVE_FAIL, payload: error.message });\n  }\n};\n\nexport {\n  listProducts,\n  detailsProduct,\n  saveProduct,\n  deleteProdcut,\n  saveProductReview,\n};\n","import React from 'react';\n\nexport default function Rating(props) {\n  return !props.value ? (\n    <div></div>\n  ) : (\n    <div className=\"rating\">\n      <span>\n        <i\n          className={\n            props.value >= 1\n              ? 'fa fa-star'\n              : props.value >= 0.5\n              ? 'fa fa-star-half-o'\n              : 'fa fa-star-o'\n          }\n        ></i>\n      </span>\n      <span>\n        <i\n          className={\n            props.value >= 2\n              ? 'fa fa-star'\n              : props.value >= 1.5\n              ? 'fa fa-star-half-o'\n              : 'fa fa-star-o'\n          }\n        ></i>\n      </span>\n      <span>\n        <i\n          className={\n            props.value >= 3\n              ? 'fa fa-star'\n              : props.value >= 2.5\n              ? 'fa fa-star-half-o'\n              : 'fa fa-star-o'\n          }\n        ></i>\n      </span>\n      <span>\n        <i\n          className={\n            props.value >= 4\n              ? 'fa fa-star'\n              : props.value >= 3.5\n              ? 'fa fa-star-half-o'\n              : 'fa fa-star-o'\n          }\n        ></i>\n      </span>\n      <span>\n        <i\n          className={\n            props.value >= 5\n              ? 'fa fa-star'\n              : props.value >= 4.5\n              ? 'fa fa-star-half-o'\n              : 'fa fa-star-o'\n          }\n        ></i>\n      </span>\n      <span>{props.text ? props.text : ''}</span>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { listProducts } from \"../actions/productActions\";\nimport Rating from \"../components/Rating\";\nimport { Product } from \"../components/Product\";\nfunction HomeScreen(props) {\n  const [searchKeyword, setSearchKeyword] = useState(\"\");\n  const [sortOrder, setSortOrder] = useState(\"\");\n  const category = props.match.params.id ? props.match.params.id : \"\";\n  const productList = useSelector((state) => state.productList);\n  const { products, loading, error } = productList;\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(listProducts(category));\n\n    return () => {\n      //\n    };\n  }, [category]);\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n    dispatch(listProducts(category, searchKeyword, sortOrder));\n  };\n  const sortHandler = (e) => {\n    setSortOrder(e.target.value);\n    dispatch(listProducts(category, searchKeyword, sortOrder));\n  };\n\n  return (\n    <>\n      {category && <h2>{category}</h2>}\n\n      <ul className=\"filter\">\n        <li>\n          <form onSubmit={submitHandler}>\n            <input\n              name=\"searchKeyword\"\n              onChange={(e) => setSearchKeyword(e.target.value)}\n            />\n            <button type=\"submit\">Search</button>\n          </form>\n        </li>\n        <li>\n          Sort By{\" \"}\n          <select name=\"sortOrder\" onChange={sortHandler}>\n            <option value=\"\">Newest</option>\n            <option value=\"lowest\">Lowest</option>\n            <option value=\"highest\">Highest</option>\n          </select>\n        </li>\n      </ul>\n\n      {loading ? (\n        <div>Loading...</div>\n      ) : error ? (\n        <div>{error}</div>\n      ) : (\n        <ul className=\"products\">\n          {products.map((product) => (\n            <li key={product._id}>\n              <div className=\"product\">\n                <Link to={\"/product/\" + product._id}>\n                  <img\n                    className=\"product-image\"\n                    src={product.image}\n                    alt=\"product\"\n                  />\n                </Link>\n                <div className=\"product-name\">\n                  <Link to={\"/product/\" + product._id}>{product.name}</Link>\n                </div>\n                <div className=\"product-brand\">{product.brand}</div>\n                <div className=\"product-price\">${product.price}</div>\n                <div className=\"product-rating\">\n                  <Rating\n                    value={product.rating}\n                    text={product.numReviews + \" reviews\"}\n                  />\n                </div>\n              </div>\n            </li>\n          ))}\n        </ul>\n      )}\n    </>\n  );\n}\nexport default HomeScreen;\n","  import React, { useEffect, useState } from \"react\";\n  import { Link } from \"react-router-dom\";\n  import { useSelector, useDispatch } from \"react-redux\";\n  import { detailsProduct, saveProductReview } from \"../actions/productActions\";\n  import Rating from \"../components/Rating\";\n  import { PRODUCT_REVIEW_SAVE_RESET } from \"../constants/productConstants\";\n  import AwesomeSlider from \"react-awesome-slider\";\n  import \"react-awesome-slider/dist/styles.css\";\n\n\n  function ProductScreen(props) {\n    const [qty, setQty] = useState(1);\n    const [rating, setRating] = useState(0);\n    const [comment, setComment] = useState(\"\");\n    const userSignin = useSelector((state) => state.userSignin);\n    const { userInfo } = userSignin;\n    const productDetails = useSelector((state) => state.productDetails);\n    const { product, loading, error } = productDetails;\n    const productReviewSave = useSelector((state) => state.productReviewSave);\n    const { success: productSaveSuccess } = productReviewSave;\n    const dispatch = useDispatch();\n\n    \n    useEffect(() => {\n      let bullets = document.querySelectorAll(\".awssld__bullets button\");\n      if(product && bullets.length > 0)\n      {\n        bullets.forEach((bullet,i) => {\n          bullet.setAttribute(\"style\",`background-image:url(${product.images[i]})`);\n        })\n      }\n      \n    },[product])\n\n\n    useEffect(() => {\n    \n    \n      if (productSaveSuccess) {\n        alert(\"Review submitted successfully.\");\n        setRating(0);\n        setComment(\"\");\n        dispatch({ type: PRODUCT_REVIEW_SAVE_RESET });\n      }\n      dispatch(detailsProduct(props.match.params.id));\n      \n      return () => {\n      \n      };\n    }, [productSaveSuccess]);\n    const submitHandler = (e) => {\n      e.preventDefault();\n      // dispatch actions\n      dispatch(\n        saveProductReview(props.match.params.id, {\n          name: userInfo.name,\n          rating: rating,\n          comment: comment,\n        })\n      );\n  \n    };\n    const handleAddToCart = async () => {\n      props.history.push(\"/cart/\" + props.match.params.id + \"?qty=\" + qty);\n    };\n\n    return (\n      <div>\n        <div className=\"back-to-result\">\n          <Link to=\"/\">Back to result</Link>\n        </div>\n        {loading ? (\n          <div>Loading...</div>\n        ) : error ? (\n          <div>{error} </div>\n        ) : (\n          <>\n          \n            <div className=\"details\">\n              <div className=\"details-image\">\n                <div className=\"aws-frm--2hSr\">\n                <AwesomeSlider className=\"aws-button\">\n                  {/*   Map over product.image array and add divs according.*/}\n                  {/* This array is reversed to match thumbnail */ }\n                  \n\n                \n\n                  {product.images? product.images.reverse().map((image,index) => {\n                      \n                     \n\n                  return (\n                    \n                    <div key={index} data-src={image}></div> \n                  \n                  )}) :( null\n                  )}\n                \n                </AwesomeSlider>\n                \n                </div>\n              </div>\n              <div className=\"details-info\">\n                <ul>\n                  <li>\n                    <h4>{product.name}</h4>\n                  </li>\n                  <li>\n                    <a href=\"#reviews\">\n                      <Rating\n                        value={product.rating}\n                        text={product.numReviews + \" reviews\"}\n                      />\n                    </a>\n                  </li>\n                  <li>\n                    Price: <b>${product.price}</b>\n                  </li>\n                  <li>\n                    Description:\n                    <div>{product.description}</div>\n                  </li>\n                </ul>\n              </div>\n              <div className=\"details-action\">\n                <ul>\n                  <li>Price: {product.price}</li>\n                  <li>\n                    Status:{\" \"}\n                    {product.countInStock > 0 ? \"In Stock\" : \"Unavailable.\"}\n                  </li>\n                  <li>\n                    Qty:{\" \"}\n                    <select\n                      value={qty}\n                      onChange={(e) => {\n                        setQty(e.target.value);\n                      }}\n                    >\n                      {[...Array(product.countInStock).keys()].map((x) => (\n                        <option key={x + 1} value={x + 1}>\n                          {x + 1}\n                        </option>\n                      ))}\n                    </select>\n                  </li>\n                  <li>\n                    {product.countInStock > 0 && (\n                      <button\n                        onClick={handleAddToCart}\n                        className=\"button primary\"\n                      >\n                        Add to Cart\n                      </button>\n                    )}\n                  </li>\n                </ul>\n              </div>\n            </div>\n            <div className=\"content-margined\">\n              <h2>Reviews</h2>\n              {!product.reviews.length && <div>There is no review</div>}\n              <ul className=\"review\" id=\"reviews\">\n                {product.reviews.map((review) => (\n                  <li key={review._id}>\n                    <div>{review.name}</div>\n                    <div>\n                      <Rating value={review.rating}></Rating>\n                    </div>\n                    <div>{review.createdAt.substring(0, 10)}</div>\n                    <div>{review.comment}</div>\n                  </li>\n                ))}\n                <li>\n                  <h3>Write a customer review</h3>\n                  {userInfo ? (\n                    <form onSubmit={submitHandler}>\n                      <ul className=\"form-container\">\n                        <li>\n                          <label htmlFor=\"rating\">Rating</label>\n                          <select\n                            name=\"rating\"\n                            id=\"rating\"\n                            value={rating}\n                            onChange={(e) => setRating(e.target.value)}\n                          >\n                            <option value=\"1\">1- Poor</option>\n                            <option value=\"2\">2- Fair</option>\n                            <option value=\"3\">3- Good</option>\n                            <option value=\"4\">4- Very Good</option>\n                            <option value=\"5\">5- Excelent</option>\n                          </select>\n                        </li>\n                        <li>\n                          <label htmlFor=\"comment\">Comment</label>\n                          <textarea\n                            name=\"comment\"\n                            value={comment}\n                            onChange={(e) => setComment(e.target.value)}\n                          ></textarea>\n                        </li>\n                        <li>\n                          <button type=\"submit\" className=\"button primary\">\n                            Submit\n                          </button>\n                        </li>\n                      </ul>\n                    </form>\n                  ) : (\n                    <div>\n                      Please <Link to=\"/signin\">Sign-in</Link> to write a review.\n                    </div>\n                  )}\n                </li>\n              </ul>\n            </div>\n          </>\n        )}\n      </div>\n    );\n  }\n  export default ProductScreen;\n","export const CART_ADD_ITEM = 'CART_ADD_ITEM';\nexport const CART_REMOVE_ITEM = 'CART_REMOVE_ITEM';\nexport const CART_SAVE_SHIPPING = 'CART_SAVE_SHIPPING';\nexport const CART_SAVE_PAYMENT = 'CART_SAVE_PAYMENT';\nexport const CART_ADD_LIST_ITEM = 'CART_ADD_LIST_ITEM';","import Axios from \"axios\";\nimport Cookie from \"js-cookie\";\nimport {\n  CART_ADD_ITEM,\n  CART_REMOVE_ITEM,\n  CART_SAVE_SHIPPING,\n  CART_SAVE_PAYMENT,\n  CART_ADD_LIST_ITEM,\n} from \"../constants/cartConstants\";\n\nconst addItem = (productId, qty) => async (dispatch, getState) => {\n  //  When adding cart, get price ID and quanity and add to Redux state\n  try {\n    const response = await fetch(\n      \"https://api.jackhixon.com/api/storefront/orders/price\",\n      {\n        method: \"POST\",\n        headers: {\n          \"content-type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          unitAmount: 0,\n          currency: \"usd\",\n          product: productId,\n        }),\n      }\n    ).then((res) => res.json());\n\n    dispatch({\n      type: CART_ADD_LIST_ITEM,\n      payload: {\n        price: response.id,\n        quantity: qty,\n      },\n    });\n  } catch (error) {\n    console.log(\"ERROR \" + error.message);\n  }\n};\nconst addToCart = (productId, qty) => async (dispatch, getState) => {\n  try {\n    const { data } = await Axios.get(\n      \"https://api.jackhixon.com/api/storefront/\" + productId\n    );\n    dispatch({\n      type: CART_ADD_ITEM,\n      payload: {\n        product: data._id,\n        name: data.name,\n        image: data.image,\n        price: data.price,\n        countInStock: data.countInStock,\n        qty,\n      },\n    });\n    const {\n      cart: { cartItems },\n    } = getState();\n    Cookie.set(\"cartItems\", JSON.stringify(cartItems));\n  } catch (error) {\n    console.log(error.message);\n  }\n};\nconst removeFromCart = (productId) => (dispatch, getState) => {\n  dispatch({ type: CART_REMOVE_ITEM, payload: productId });\n\n  const {\n    cart: { cartItems },\n  } = getState();\n  Cookie.set(\"cartItems\", JSON.stringify(cartItems));\n};\nconst saveShipping = (data) => (dispatch) => {\n  dispatch({ type: CART_SAVE_SHIPPING, payload: data });\n};\nconst savePayment = (data) => (dispatch) => {\n  dispatch({ type: CART_SAVE_PAYMENT, payload: data });\n};\nexport { addToCart, addItem, removeFromCart, saveShipping, savePayment };\n","import React, { useEffect } from \"react\";\nimport { addToCart, removeFromCart, addItem } from \"../actions/cartActions\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nfunction CartScreen(props) {\n  const cart = useSelector((state) => state.cart);\n\n  const { cartItems } = cart;\n\n  const productId = props.match.params.id;\n  const qty = props.location.search\n    ? Number(props.location.search.split(\"=\")[1])\n    : 1;\n\n  const dispatch = useDispatch();\n  const removeFromCartHandler = (productId) => {\n    // Remove from List Items\n    dispatch(removeFromCart(productId));\n  };\n  useEffect(() => {\n    if (productId) {\n      //  Add to list items\n      dispatch(addItem(productId, qty));\n      dispatch(addToCart(productId, qty));\n    }\n  }, []);\n\n  const checkoutHandler = async () => {\n    props.history.push(\"/signin?redirect=shipping\");\n  };\n\n  return (\n    <div className=\"cart\">\n      <div className=\"cart-list\">\n        <ul className=\"cart-list-container\">\n          <li>\n            <h3>Shopping Cart</h3>\n            <div>Price</div>\n          </li>\n          {cartItems.length === 0 ? (\n            <div>Cart is empty</div>\n          ) : (\n            cartItems.map((item, index) => (\n              <li key={index}>\n                <div className=\"cart-image\">\n                  <img src={item.image} alt=\"product\" />\n                </div>\n                <div className=\"cart-name\">\n                  <div>\n                    <Link to={\"/product/\" + item.product}>{item.name}</Link>\n                  </div>\n                  <div>\n                    Qty:\n                    <select\n                      value={item.qty}\n                      onChange={(e) =>\n                        dispatch(addToCart(item.product, e.target.value))\n                      }\n                    >\n                      {[...Array(item.countInStock).keys()].map((x) => (\n                        <option key={x + 1} value={x + 1}>\n                          {x + 1}\n                        </option>\n                      ))}\n                    </select>\n                    <button\n                      type=\"button\"\n                      className=\"button\"\n                      onClick={() => removeFromCartHandler(item.product)}\n                    >\n                      Delete\n                    </button>\n                  </div>\n                </div>\n                <div className=\"cart-price\">${item.price}</div>\n              </li>\n            ))\n          )}\n        </ul>\n      </div>\n      <div className=\"cart-action\">\n        <h3>\n          Subtotal ( {cartItems.reduce((a, c) => a + c.qty, 0)} items) : ${\" \"}\n          {cartItems.reduce((a, c) => a + c.price * c.qty, 0)}\n        </h3>\n        <button\n          onClick={checkoutHandler}\n          className=\"button primary full-width\"\n          disabled={cartItems.length === 0}\n        >\n          Proceed to Checkout\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default CartScreen;\n","export const USER_SIGNIN_REQUEST = 'USER_SIGNIN_REQUEST';\nexport const USER_SIGNIN_SUCCESS = 'USER_SIGNIN_SUCCESS';\nexport const USER_SIGNIN_FAIL = 'USER_SIGNIN_FAIL';\n\nexport const USER_UPDATE_REQUEST = 'USER_UPDATE_REQUEST';\nexport const USER_UPDATE_SUCCESS = 'USER_UPDATE_SUCCESS';\nexport const USER_UPDATE_FAIL = 'USER_UPDATE_FAIL';\n\nexport const USER_REGISTER_REQUEST = 'USER_REGISTER_REQUEST';\nexport const USER_REGISTER_SUCCESS = 'USER_REGISTER_SUCCESS';\nexport const USER_REGISTER_FAIL = 'USER_REGISTER_FAIL';\n\nexport const USER_LOGOUT = 'USER_LOGOUT';","import Axios from \"axios\";\nimport Cookie from \"js-cookie\";\nimport {\n  USER_SIGNIN_REQUEST,\n  USER_SIGNIN_SUCCESS,\n  USER_SIGNIN_FAIL,\n  USER_REGISTER_REQUEST,\n  USER_REGISTER_SUCCESS,\n  USER_REGISTER_FAIL,\n  USER_LOGOUT,\n  USER_UPDATE_REQUEST,\n  USER_UPDATE_SUCCESS,\n  USER_UPDATE_FAIL,\n} from \"../constants/userConstants\";\n\nconst update =\n  ({ userId, name, email, password, coupon }) =>\n  async (dispatch, getState) => {\n    const {\n      userSignin: { userInfo },\n    } = getState();\n    dispatch({\n      type: USER_UPDATE_REQUEST,\n      payload: { userId, name, email, password, coupon },\n    });\n    try {\n      const { data } = await Axios.put(\n        \"/api/users/\" + userId,\n        { name, email, password, coupon },\n        {\n          headers: {\n            Authorization: \"Bearer \" + userInfo.token,\n          },\n        }\n      );\n      dispatch({ type: USER_UPDATE_SUCCESS, payload: data });\n      Cookie.set(\"userInfo\", JSON.stringify(data));\n    } catch (error) {\n      dispatch({ type: USER_UPDATE_FAIL, payload: error.message });\n    }\n  };\n\nconst setUserCoupon =\n  ({ userId, coupon }) =>\n  async (dispatch, getState) => {\n    const {\n      userSignin: { userInfo },\n    } = getState();\n    dispatch({ type: USER_UPDATE_REQUEST, payload: { userId, coupon } });\n    try {\n      const { data } = await Axios.put(\n        \"/api/users/\" + userId,\n        { coupon },\n        {\n          headers: {\n            Authorization: \"Bearer \" + userInfo.token,\n          },\n        }\n      );\n      dispatch({ type: USER_UPDATE_SUCCESS, payload: data });\n      Cookie.set(\"userInfo\", JSON.stringify(data));\n    } catch (error) {\n      dispatch({ type: USER_UPDATE_FAIL, payload: error.message });\n    }\n  };\n\nconst signin = (email, password) => async (dispatch) => {\n  dispatch({ type: USER_SIGNIN_REQUEST, payload: { email, password } });\n  try {\n    const { data } = await Axios.post(\n      \"https://api.jackhixon.com/api/storefront/users/signin\",\n      { email, password }\n    );\n\n    dispatch({ type: USER_SIGNIN_SUCCESS, payload: data });\n    Cookie.set(\"userInfo\", JSON.stringify(data));\n  } catch (error) {\n    dispatch({ type: USER_SIGNIN_FAIL, payload: error.message });\n  }\n};\n\nconst register = (name, email, password) => async (dispatch) => {\n  dispatch({ type: USER_REGISTER_REQUEST, payload: { name, email, password } });\n  try {\n    const { data } = await Axios.post(\n      \"https://www.api.jackhixon.com/api/storefront/users/register\",\n      {\n        name,\n        email,\n        password,\n      }\n    );\n    dispatch({ type: USER_REGISTER_SUCCESS, payload: data });\n    Cookie.set(\"userInfo\", JSON.stringify(data));\n  } catch (error) {\n    dispatch({ type: USER_REGISTER_FAIL, payload: error.message });\n  }\n};\n\nconst logout = () => (dispatch) => {\n  Cookie.remove(\"userInfo\");\n  dispatch({ type: USER_LOGOUT });\n};\n\nexport { signin, register, logout, update, setUserCoupon };\n","import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { signin } from \"../actions/userActions\";\n\nfunction SigninScreen(props) {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const userSignin = useSelector((state) => state.userSignin);\n  const { loading, userInfo, error } = userSignin;\n  const dispatch = useDispatch();\n  const redirect = props.location.search\n    ? props.location.search.split(\"=\")[1]\n    : \"/\";\n  useEffect(() => {\n    if (userInfo) {\n      props.history.push(redirect);\n    }\n    return () => {\n      //\n    };\n  }, [userInfo]);\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n    dispatch(signin(email, password));\n  };\n  return (\n    <div className=\"form\">\n      <form onSubmit={submitHandler}>\n        <ul className=\"form-container\">\n          <li>\n            <h2>Sign-In</h2>\n          </li>\n          <li>\n            {loading && <div>Loading...</div>}\n            {error && <div>{error}</div>}\n          </li>\n          <li>\n            <label htmlFor=\"email\">Email</label>\n            <input\n              type=\"email\"\n              name=\"email\"\n              id=\"email\"\n              placeholder=\"testuser@gmail.com\"\n              onChange={(e) => setEmail(e.target.value)}\n            ></input>\n          </li>\n          <li>\n            <label htmlFor=\"password\">Password</label>\n            <input\n              type=\"password\"\n              id=\"password\"\n              name=\"password\"\n              placeholder=\"testpassword\"\n              onChange={(e) => setPassword(e.target.value)}\n            ></input>\n          </li>\n          <li>\n            <button type=\"submit\" className=\"button primary\">\n              Sign In\n            </button>\n          </li>\n          <li>New to Rossville Race Parts?</li>\n          <li>\n            <Link\n              to={\n                redirect === \"/\" ? \"register\" : \"register?redirect=\" + redirect\n              }\n              className=\"button secondary text-center\"\n            >\n              Create your account\n            </Link>\n          </li>\n        </ul>\n      </form>\n    </div>\n  );\n}\nexport default SigninScreen;\n","import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { register } from '../actions/userActions';\n\nfunction RegisterScreen(props) {\n\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [rePassword, setRePassword] = useState('');\n  const userRegister = useSelector(state => state.userRegister);\n  const { loading, userInfo, error } = userRegister;\n  const dispatch = useDispatch();\n\n  const redirect = props.location.search ? props.location.search.split(\"=\")[1] : '/';\n  useEffect(() => {\n    if (userInfo) {\n      props.history.push(redirect);\n    }\n    return () => {\n      //\n    };\n  }, [userInfo]);\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n    dispatch(register(name, email, password));\n  }\n  return <div className=\"form\">\n    <form onSubmit={submitHandler} >\n      <ul className=\"form-container\">\n        <li>\n          <h2>Create Account</h2>\n        </li>\n        <li>\n          {loading && <div>Loading...</div>}\n          {error && <div>{error}</div>}\n        </li>\n        <li>\n          <label htmlFor=\"name\">\n            Name\n          </label>\n          <input type=\"name\" name=\"name\" id=\"name\" onChange={(e) => setName(e.target.value)} required>\n          </input>\n        </li>\n        <li>\n          <label htmlFor=\"email\">\n            Email\n          </label>\n          <input type=\"email\" name=\"email\" id=\"email\" onChange={(e) => setEmail(e.target.value)}required>\n          </input>\n        </li>\n        <li>\n          <label htmlFor=\"password\">Password</label>\n          <input type=\"password\" id=\"password\" name=\"password\" onChange={(e) => setPassword(e.target.value)}required>\n          </input>\n        </li>\n        <li>\n          <label htmlFor=\"rePassword\">Re-Enter Password</label>\n          <input type=\"password\" id=\"rePassword\" name=\"rePassword\" onChange={(e) => setRePassword(e.target.value)}required>\n          </input>\n        </li>\n        <li>\n          <button type=\"submit\" className=\"button primary\">Register</button>\n        </li>\n        <li>\n          Already have an account?\n          <Link to={redirect === \"/\" ? \"signin\" : \"signin?redirect=\" + redirect} className=\"button secondary text-center\" >Create your  account</Link>\n\n        </li>\n\n      </ul>\n    </form>\n  </div>\n}\nexport default RegisterScreen;","import React, { useEffect, useState, useRef } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport axios from \"axios\";\nimport {\n  saveProduct,\n  listProducts,\n  deleteProdcut,\n} from \"../actions/productActions\";\n\nfunction ProductsScreen(props) {\n  const [modalVisible, setModalVisible] = useState(false);\n  const [id, setId] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [price, setPrice] = useState(\"\");\n  const [image, setImage] = useState(\"\");\n\n  const [brand, setBrand] = useState(\"\");\n  const [category, setCategory] = useState(\"\");\n  const [countInStock, setCountInStock] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [uploading, setUploading] = useState(false);\n  const [images,setImages] = useState([]);\n  const productList = useSelector((state) => state.productList);\n  const { loading, products, error } = productList;\n  const fileInput = useRef();\n\n  const productSave = useSelector((state) => state.productSave);\n  const {\n    loading: loadingSave,\n    success: successSave,\n    error: errorSave,\n  } = productSave;\n\n  const productDelete = useSelector((state) => state.productDelete);\n  const {\n    loading: loadingDelete,\n    success: successDelete,\n    error: errorDelete,\n  } = productDelete;\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    \n    if (successSave) {\n\n      setModalVisible(false);\n    }\n    dispatch(listProducts());\n    return () => {\n      //\n    };\n  }, [successSave, successDelete]);\n\n  const openModal = (product) => {\n    setModalVisible(true);\n    setId(product._id);\n    setName(product.name);\n    setPrice(product.price);\n    setDescription(product.description);\n    setImage(product.image);\n    setBrand(product.brand);\n    setCategory(product.category);\n    setCountInStock(product.countInStock);\n  \n  };\n  const submitHandler = async (e) => {\n   \n    e.preventDefault();\n    dispatch(\n      saveProduct({\n        _id: id,\n        name,\n        price,\n        image,\n        images,\n        brand, \n        category,\n        countInStock,\n        description,\n      })\n    );\n  };\n  const deleteHandler = (product) => {\n    dispatch(deleteProdcut(product._id));\n  };\n  const uploadFileHandler = (e) => {\n   \n    if (e.target.files.length > 1) {\n      console.log(\"Greater than 1\");\n    }\n    if (e.target.files.length === 1) {\n      console.log(\"Just one\");\n    }\n    for (let i = 0; i < e.target.files.length; i++) {\n      // Handles multiple image uploads.\n      const file = e.target.files[i];\n      const bodyFormData = new FormData();\n      bodyFormData.append(\"image\", file);\n\n      setUploading(true);\n      axios\n        .post(\"/api/uploads/s3\", bodyFormData, {\n          headers: {\n            \"Content-Type\": \"multipart/form-data\",\n          },\n        })\n        .then((response) => {\n          // Each time this runs add to image array.\n          // Currently adds to string saved to product.image\n          // Temp store array of images and on product update/create if array is\n          // greater than 1, useDispatch  to update product to images array.\n         \n          images.push(response.data);\n          \n         \n          setImage(response.data);\n\n          \n          setUploading(false);\n         \n        })\n        .catch((err) => {\n          console.log(err);\n          setUploading(false);\n        });\n    }\n  };\n  return (\n    <div className=\"content content-margined\">\n      <div className=\"product-header\">\n        <h3>Products</h3>\n        <button className=\"button primary\" onClick={() => openModal({})}>\n          Create Product\n        </button>\n      </div>\n      {modalVisible && (\n        <div className=\"form\">\n          <form onSubmit={submitHandler}>\n            <ul className=\"form-container\">\n              <li>\n                <h2>Create Product</h2>\n              </li>\n              <li>\n                {loadingSave && <div>Loading...</div>}\n                {errorSave && <div>{errorSave}</div>}\n              </li>\n\n              <li>\n                <label htmlFor=\"name\">Name</label>\n                <input\n                  type=\"text\"\n                  name=\"name\"\n                  value={name}\n                  id=\"name\"\n                  onChange={(e) => setName(e.target.value)}\n                  required\n                ></input>\n              </li>\n              <li>\n                <label htmlFor=\"price\">Price</label>\n                <input\n                  type=\"text\"\n                  name=\"price\"\n                  value={price}\n                  id=\"price\"\n                  onChange={(e) => setPrice(e.target.value)}\n                  required\n                ></input>\n              </li>\n              <li>\n                <label htmlFor=\"image\">Image</label>\n                <input\n                  type=\"text\"\n                  name=\"image\"\n                  value={image}\n                  id=\"image\"\n                  onChange={(e) => setImage(e.target.value)}\n                  required\n                ></input>\n                <input\n                  type=\"file\"\n                  multiple\n                  ref={fileInput}\n                  onChange={uploadFileHandler}\n                ></input>\n                {uploading && <div>Uploading...</div>}\n              </li>\n\n              <li>\n                <label htmlFor=\"countInStock\">CountInStock</label>\n                <input\n                  type=\"text\"\n                  name=\"countInStock\"\n                  value={countInStock}\n                  id=\"countInStock\"\n                  onChange={(e) => setCountInStock(e.target.value)}\n                  required\n                ></input>\n              </li>\n              <li>\n                <label htmlFor=\"name\">Category</label>\n                <input\n                  type=\"text\"\n                  name=\"category\"\n                  value={category}\n                  id=\"category\"\n                  onChange={(e) => setCategory(e.target.value)}\n                  required\n                ></input>\n              </li>\n              <li>\n                <label htmlFor=\"description\">Description</label>\n                <textarea\n                  name=\"description\"\n                  value={description}\n                  id=\"description\"\n                  onChange={(e) => setDescription(e.target.value)}\n                  required\n                ></textarea>\n              </li>\n              <li>\n                <button type=\"submit\" className=\"button primary\">\n                  {id ? \"Update\" : \"Create\"}\n                </button>\n              </li>\n              <li>\n                <button\n                  type=\"button\"\n                  onClick={() => setModalVisible(false)}\n                  className=\"button secondary\"\n                >\n                  Back\n                </button>\n              </li>\n            </ul>\n          </form>\n        </div>\n      )}\n\n      <div className=\"product-list\">\n        <table className=\"table\">\n          <thead>\n            <tr>\n              <th>ID</th>\n              <th>Name</th>\n              <th>Price</th>\n              <th>Category</th>\n\n              <th>Action</th>\n            </tr>\n          </thead>\n          <tbody>\n            {products.map((product) => (\n              <tr key={product._id}>\n                <td>{product._id}</td>\n                <td>{product.name}</td>\n                <td>{product.price}</td>\n                <td>{product.category}</td>\n                <td>{product.brand}</td>\n                <td>\n                  <button className=\"button\" onClick={() => openModal(product)}>\n                    Edit\n                  </button>{\" \"}\n                  <button\n                    className=\"button\"\n                    onClick={() => deleteHandler(product)}\n                  >\n                    Delete\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n}\nexport default ProductsScreen;\n","import React from 'react';\nfunction CheckoutSteps(props) {\n  return <div className=\"checkout-steps\">\n    <div className={props.step1 ? 'active' : ''} >Sign in</div>\n    <div className={props.step2 ? 'active' : ''} >Shipping</div>\n    <div className={props.step3 ? 'active' : ''} >Payment</div>\n    <div className={props.step4 ? 'active' : ''} >Place Order</div>\n  </div>\n}\n\nexport default CheckoutSteps;","import React, { useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { saveShipping } from \"../actions/cartActions\";\nimport CheckoutSteps from \"../components/CheckoutSteps\";\nrequire(\"dotenv\").config();\nconst USPS = require(\"usps-webtools\");\nconst usps = new USPS({\n  server: \"https://production.shippingapis.com/ShippingAPI.dll\",\n  userId: \"973HIXON1037\",\n  ttl: 10000, //TTL in milliseconds for request\n});\n\nfunction ShippingScreen(props) {\n  const [address, setAddress] = useState(\"\");\n  const [city, setCity] = useState(\"\");\n  const [state, setState] = useState(\"\");\n  const [postalCode, setPostalCode] = useState(\"\");\n  const [country, setCountry] = useState(\"\");\n  const [contact, setContact] = useState(\"\");\n  const dispatch = useDispatch();\n\n  let cart = useSelector((state) => state.cart);\n  if (!cart.shipping) {\n    // Inital state.\n    cart.shipping = { adresss: \"\" };\n  }\n  const resetAddress = (e) => {\n    e.preventDefault();\n    setAddress(\"\");\n    setCity(\"\");\n    setState(\"\");\n    setPostalCode(\"\");\n    setCountry(\"\");\n    setContact(\"\");\n    window.location.reload();\n  };\n  const submitHandler = (e) => {\n    e.preventDefault();\n\n    // Cant use without SSL on backend\n    usps.verify(\n      {\n        street1: address,\n        city,\n        state,\n        zip: postalCode,\n      },\n      function (err, verifiedAddress) {\n        if (err) {\n          // Threw an address error\n          document.getElementById(\"error\").innerText = err.message;\n        } else {\n          dispatch(\n            saveShipping({ address, city, state, postalCode, country, contact })\n          );\n          props.history.push(\"payment\");\n        }\n      }\n    );\n  };\n\n  return (\n    <div>\n      <CheckoutSteps step1 step2></CheckoutSteps>\n      <div className=\"form\">\n        <form onSubmit={submitHandler}>\n          <ul className=\"form-container\">\n            {console.log(cart.shipping)}\n            {cart.shipping.address ? (\n              <button onClick={resetAddress}>Edit</button>\n            ) : (\n              \"\"\n            )}\n            <li>\n              <h2>Shipping</h2>\n              <h5 id=\"error\"> </h5>\n            </li>\n\n            <li>\n              <label htmlFor=\"address\">Address</label>\n              <input\n                type=\"text\"\n                name=\"address\"\n                id=\"address\"\n                value={cart.shipping.address ? cart.shipping.address : null}\n                onChange={(e) => setAddress(e.target.value)}\n                required\n              ></input>\n            </li>\n            <li>\n              <label htmlFor=\"city\">City</label>\n              <input\n                type=\"text\"\n                name=\"city\"\n                id=\"city\"\n                value={cart.shipping.city ? cart.shipping.city : null}\n                onChange={(e) => setCity(e.target.value)}\n                required\n              ></input>\n            </li>\n            <li>\n              <label htmlFor=\"state\">State</label>\n              <input\n                type=\"text\"\n                name=\"state\"\n                id=\"state\"\n                value={cart.shipping.city ? cart.shipping.city : null}\n                onChange={(e) => setState(e.target.value)}\n                required\n              ></input>\n            </li>\n            <li>\n              <label htmlFor=\"postalCode\">Postal Code</label>\n              <input\n                type=\"text\"\n                name=\"postalCode\"\n                id=\"postalCode\"\n                value={\n                  cart.shipping.postalCode ? cart.shipping.postalCode : null\n                }\n                onChange={(e) => setPostalCode(e.target.value)}\n                required\n              ></input>\n            </li>\n            <li>\n              <label htmlFor=\"country\">Country</label>\n              <input\n                type=\"text\"\n                name=\"country\"\n                id=\"country\"\n                value={cart.shipping.country ? cart.shipping.country : null}\n                onChange={(e) => setCountry(e.target.value)}\n                required\n              ></input>\n            </li>\n\n            <li>\n              <label htmlFor=\"country\">Email</label>\n              <input\n                type=\"text\"\n                name=\"contact\"\n                id=\"contact\"\n                value={cart.shipping.contact ? cart.shipping.contact : null}\n                onChange={(e) => setContact(e.target.value)}\n                required\n              ></input>\n            </li>\n\n            <li>\n              <button type=\"submit\" className=\"button primary\">\n                Continue\n              </button>\n            </li>\n          </ul>\n        </form>\n      </div>\n    </div>\n  );\n}\nexport default ShippingScreen;\n","import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { savePayment } from '../actions/cartActions';\nimport CheckoutSteps from '../components/CheckoutSteps';\n\nfunction PaymentScreen(props) {\n  const [paymentMethod, setPaymentMethod] = useState('');\n\n  const dispatch = useDispatch();\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n    dispatch(savePayment({ paymentMethod }));\n    props.history.push('placeorder');\n  };\n  return (\n    <div>\n      <CheckoutSteps step1 step2 step3></CheckoutSteps>\n      <div className=\"form\">\n        <form onSubmit={submitHandler}>\n          <ul className=\"form-container\">\n            <li>\n              <h2>Payment</h2>\n            </li>\n\n            <li>\n              <div>\n                <input\n                  type=\"radio\"\n                  name=\"paymentMethod\"\n                  id=\"paymentMethod\"\n                  value=\"Stripe\"\n                  onChange={(e) => setPaymentMethod(e.target.value)}\n                ></input>\n                <label for=\"paymentMethod\">Stripe</label>\n              </div>\n            </li>\n\n            <li>\n              <button type=\"submit\" className=\"button primary\">\n                Continue\n              </button>\n            </li>\n          </ul>\n        </form>\n      </div>\n    </div>\n  );\n}\nexport default PaymentScreen;\n","export const ORDER_CREATE_REQUEST = 'ORDER_CREATE_REQUEST';\nexport const ORDER_CREATE_SUCCESS = 'ORDER_CREATE_SUCCESS';\nexport const ORDER_CREATE_FAIL = 'ORDER_CREATE_FAIL';\n\nexport const ORDER_DETAILS_REQUEST = 'ORDER_DETAILS_REQUEST';\nexport const ORDER_DETAILS_SUCCESS = 'ORDER_DETAILS_SUCCESS';\nexport const ORDER_DETAILS_FAIL = 'ORDER_DETAILS_FAIL';\n\nexport const MY_ORDER_LIST_REQUEST = 'MY_ORDER_LIST_REQUEST';\nexport const MY_ORDER_LIST_SUCCESS = 'MY_ORDER_LIST_SUCCESS';\nexport const MY_ORDER_LIST_FAIL = 'MY_ORDER_LIST_FAIL';\n\nexport const ORDER_LIST_REQUEST = 'ORDER_LIST_REQUEST';\nexport const ORDER_LIST_SUCCESS = 'ORDER_LIST_SUCCESS';\nexport const ORDER_LIST_FAIL = 'ORDER_LIST_FAIL';\n\nexport const ORDER_PAY_REQUEST = 'ORDER_PAY_REQUEST';\nexport const ORDER_PAY_SUCCESS = 'ORDER_PAY_SUCCESS';\nexport const ORDER_PAY_FAIL = 'ORDER_PAY_FAIL';\nexport const ORDER_PAY_RESET = 'ORDER_PAY_RESET';\nexport const ORDER_DELETE_REQUEST = 'ORDER_DELETE_REQUEST';\nexport const ORDER_DELETE_SUCCESS = 'ORDER_DELETE_SUCCESS';\nexport const ORDER_DELETE_FAIL = 'ORDER_DELETE_FAIL';","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport CheckoutSteps from '../components/CheckoutSteps';\nimport { createOrder } from '../actions/orderActions';\nfunction PlaceOrderScreen(props) {\n  const userSignin = useSelector(state => state.userSignin);\n  const { userInfo } = userSignin;\n  const cart = useSelector(state => state.cart);\n  const orderCreate = useSelector(state => state.orderCreate);\n  const { loading, success, error, order } = orderCreate;\n\n  \n  const { cartItems, shipping, payment } = cart;\n\n  \n  if (!shipping.address) {\n    props.history.push(\"/shipping\");\n  } else if (!payment.paymentMethod) {\n    props.history.push(\"/payment\");\n  }\n  const itemsPrice = cartItems.reduce((a, c) => a + c.price * c.qty, 0);\n  // Price over $75 shipping free.\n  const shippingPrice = itemsPrice > 75 ? 8.80 : 0;\n  let discount = null;\n  const taxPrice = 0.04 * itemsPrice;\n  let totalPrice = itemsPrice  + shippingPrice + taxPrice;\n  \n  if(userInfo.coupon)\n  {\n    // Sets discount coupon if there is one.\n    discount = parseInt(userInfo.coupon,10);\n    const discountTotalPrice =  totalPrice - (totalPrice * discount / 100);\n    totalPrice = discountTotalPrice;\n\n  }\n  const dispatch = useDispatch();\n\n  const placeOrderHandler = () => {\n    // create an order\n   \n    dispatch(createOrder({\n      orderItems: cartItems, shipping, payment, itemsPrice, shippingPrice,\n      taxPrice, totalPrice\n    }));\n  }\n  useEffect(() => {\n    if (success) {\n      props.history.push(\"/order/\" + order._id);\n    }\n\n  }, [success]);\n\n  return <div>\n    <CheckoutSteps step1 step2 step3 step4 ></CheckoutSteps>\n    <div className=\"placeorder\">\n      <div className=\"placeorder-info\">\n        <div>\n          <h3>\n            Shipping\n          </h3>\n          <div>\n            {cart.shipping.contact}, {cart.shipping.address}, {cart.shipping.city}, {cart.shipping.state}, \n          {cart.shipping.postalCode}, {cart.shipping.country}.\n          </div>\n        </div>\n        <div>\n          <h3>Payment</h3>\n          <div>\n            Payment Method: {cart.payment.paymentMethod}\n          </div>\n        </div>\n        <div>\n          <ul className=\"cart-list-container\">\n            <li>\n              <h3>\n                Shopping Cart\n          </h3>\n              <div>\n                Price\n          </div>\n            </li>\n            {\n              cartItems.length === 0 ?\n                <div>\n                  Cart is empty\n          </div>\n                :\n                cartItems.map(item =>\n                  <li>\n                    <div className=\"cart-image\">\n                      <img src={item.image} alt=\"product\" />\n                    </div>\n                    <div className=\"cart-name\">\n                      <div>\n                        <Link to={\"/product/\" + item.product}>\n                          {item.name}\n                        </Link>\n\n                      </div>\n                      <div>\n                        Qty: {item.qty}\n                      </div>\n                    </div>\n                    <div className=\"cart-price\">\n                      ${item.price}\n                    </div>\n                  </li>\n                )\n            }\n          </ul>\n        </div>\n\n      \n      </div>\n      <div className=\"placeorder-action\">\n        <ul>\n          <li>\n            <button className=\"button primary full-width\" onClick={placeOrderHandler} >Place Order</button>\n          </li>\n          <li>\n            <h3>Order Summary</h3>\n          </li>\n          <li>\n            <div>Items</div>\n            <div>${itemsPrice}</div>\n          </li>\n          \n          {discount > 0 ?<li> <div>Discount</div>\n          <div>{userInfo.coupon}%</div> </li>: null}\n\n          <li>\n            <div>Shipping</div>\n            {shippingPrice === 0 ? <div>Free</div>:<div>${shippingPrice}</div>}\n          </li>\n          <li>\n            <div>Tax</div>\n            <div>${taxPrice}</div>\n          </li>\n          <li>\n            <div>Order Total</div>\n            <div>${totalPrice}</div>\n          </li>\n        </ul>\n\n\n\n      </div>\n\n    </div>\n  </div>\n\n}\n\nexport default PlaceOrderScreen;","import Axios from \"axios\";\nimport {\n  ORDER_CREATE_REQUEST, ORDER_CREATE_SUCCESS, ORDER_CREATE_FAIL,\n  ORDER_DETAILS_REQUEST, ORDER_DETAILS_SUCCESS, ORDER_DETAILS_FAIL, ORDER_PAY_REQUEST, ORDER_PAY_SUCCESS, ORDER_PAY_FAIL, MY_ORDER_LIST_REQUEST, MY_ORDER_LIST_SUCCESS, MY_ORDER_LIST_FAIL, ORDER_DELETE_REQUEST, ORDER_DELETE_SUCCESS, ORDER_DELETE_FAIL, ORDER_LIST_REQUEST, ORDER_LIST_SUCCESS, ORDER_LIST_FAIL\n} from \"../constants/orderConstants\";\n\nconst createOrder = (order) => async (dispatch, getState) => {\n  try {\n    dispatch({ type: ORDER_CREATE_REQUEST, payload: order });\n    const { userSignin: { userInfo } } = getState();\n    const { data: { data: newOrder } } = await Axios.post(\"/api/orders\", order, {\n      headers: {\n        Authorization: ' Bearer ' + userInfo.token\n      }\n    });\n    dispatch({ type: ORDER_CREATE_SUCCESS, payload: newOrder });\n  } catch (error) {\n    dispatch({ type: ORDER_CREATE_FAIL, payload: error.message });\n  }\n}\n\nconst listMyOrders = () => async (dispatch, getState) => {\n  try {\n    dispatch({ type: MY_ORDER_LIST_REQUEST });\n    const { userSignin: { userInfo } } = getState();\n    const { data } = await Axios.get(\"/api/orders/mine\", {\n      headers:\n        { Authorization: 'Bearer ' + userInfo.token }\n    });\n    dispatch({ type: MY_ORDER_LIST_SUCCESS, payload: data })\n  } catch (error) {\n    dispatch({ type: MY_ORDER_LIST_FAIL, payload: error.message });\n  }\n}\n\nconst listOrders = () => async (dispatch, getState) => {\n\n  try {\n    dispatch({ type: ORDER_LIST_REQUEST });\n    const { userSignin: { userInfo } } = getState();\n    const { data } = await Axios.get(\"/api/orders\", {\n      headers:\n        { Authorization: 'Bearer ' + userInfo.token }\n    });\n    dispatch({ type: ORDER_LIST_SUCCESS, payload: data })\n  } catch (error) {\n    dispatch({ type: ORDER_LIST_FAIL, payload: error.message });\n  }\n}\n\nconst detailsOrder = (orderId) => async (dispatch, getState) => {\n  try {\n    dispatch({ type: ORDER_DETAILS_REQUEST, payload: orderId });\n    const { userSignin: { userInfo } } = getState();\n    const { data } = await Axios.get(\"/api/orders/\" + orderId, {\n      headers:\n        { Authorization: 'Bearer ' + userInfo.token }\n    });\n    dispatch({ type: ORDER_DETAILS_SUCCESS, payload: data })\n  } catch (error) {\n    dispatch({ type: ORDER_DETAILS_FAIL, payload: error.message });\n  }\n}\n\nconst payOrder = (order, paymentResult) => async (dispatch, getState) => {\n  try {\n    dispatch({ type: ORDER_PAY_REQUEST, payload: paymentResult });\n    const { userSignin: { userInfo } } = getState();\n  \n    const { data } = await Axios.put(\"/api/orders/\" + order._id + \"/pay\", paymentResult, {\n      headers:\n        { Authorization: 'Bearer ' + userInfo.token }\n    });\n  \n    dispatch({ type: ORDER_PAY_SUCCESS, payload: data })\n  } catch (error) {\n    dispatch({ type: ORDER_PAY_FAIL, payload: error.message });\n  }\n}\n\nconst deleteOrder = (orderId) => async (dispatch, getState) => {\n  try {\n    dispatch({ type: ORDER_DELETE_REQUEST, payload: orderId });\n    const { userSignin: { userInfo } } = getState();\n    const { data } = await Axios.delete(\"/api/orders/\" + orderId, {\n      headers:\n        { Authorization: 'Bearer ' + userInfo.token }\n    });\n    dispatch({ type: ORDER_DELETE_SUCCESS, payload: data })\n  } catch (error) {\n    dispatch({ type: ORDER_DELETE_FAIL, payload: error.message });\n  }\n}\nexport { createOrder, detailsOrder, payOrder, listMyOrders, listOrders, deleteOrder };","import React,{history} from 'react';\nimport { logout, update } from \"../actions/userActions\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\nfunction Logout(props) {\n  const dispatch = useDispatch();\n  const handleLogout = () => {\n    dispatch(logout());\n    props.history.push('/');\n  };\n  handleLogout();\n  return (\n   <div>\n\n   </div>\n  )\n}\nexport default Logout;\n","import React, { useState, useEffect } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport axios from \"axios\";\nfunction PaypalButton(props) {\n\n  const source = axios.CancelToken.source();\n  const [sdkReady, setSdkReady] = useState(false);\n\n  const addPaypalSdk = async () => {\n\n    const result = await axios.get(\"/api/config/paypal\",\n    {   cancelToken: source.token });\n    const clientID = result.data;\n    const script = document.createElement(\"script\");\n    script.type = \"text/javascript\";\n    script.src = \"https://www.paypal.com/sdk/js?client-id=\" + clientID;\n    script.async = true;\n    script.onload = () => {\n      setSdkReady(true);\n    };\n    document.body.appendChild(script);\n  };\n\n  const createOrder = (data, actions) =>\n    actions.order.create({\n      purchase_units: [\n        {\n          amount: {\n            currency_code: \"USD\",\n            value: props.amount,\n          },\n        },\n      ],\n    });\n\n  const onApprove = (data, actions) =>\n    actions.order\n      .capture()\n      .then((details) => props.onSuccess(data, details))\n      .catch((err) => console.log(err));\n\n  useEffect(() => {\n    if (!window.paypal) {\n      addPaypalSdk();\n    }\n    return () => {\n      source.cancel(\"Component got unmounted\");\n\n    };\n  }, []);\n    // This motherfucker right here needs to cancel async calls\n  if (!sdkReady) {\n    \n    return <div>Loading</div>;\n    \n  }\n\n  const Button = window.paypal.Buttons.driver(\"react\", { React, ReactDOM });\n\n  return (\n    <Button\n      {...props}\n      createOrder={(data, actions) => createOrder(data, actions)}\n      onApprove={(data, actions) => onApprove(data, actions)}\n    />\n  );\n}\n\nexport default PaypalButton;\n","import React, { useEffect, useReducer, useState } from \"react\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport \"./normalize.css\";\nimport \"./global.css\";\n\nlet priceID;\n\n// Set price based on Cart.\nconst fetchPriceID = async (totalPrice) => {\n  const response = await fetch(\"/api/orders/price\", {\n    method: \"POST\",\n    headers: {\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      unitAmount: totalPrice,\n      currency: \"usd\",\n      product: \"prod_IhKIHr0C4sggTP\",\n    }),\n  });\n  return response.json();\n};\n// fetchPriceID().then((data) => console.log(data.id));\n\nconst formatPrice = ({ amount, currency, quantity }) => {\n  const numberFormat = new Intl.NumberFormat(\"en-US\", {\n    style: \"currency\",\n    currency,\n    currencyDisplay: \"symbol\",\n  });\n  const parts = numberFormat.formatToParts(amount);\n  let zeroDecimalCurrency = true;\n  for (let part of parts) {\n    if (part.type === \"decimal\") {\n      zeroDecimalCurrency = false;\n    }\n  }\n  amount = zeroDecimalCurrency ? amount : amount / 100;\n  const total = (quantity * amount).toFixed(2);\n\n  return numberFormat.format(total);\n};\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case \"useEffectUpdate\":\n      return {\n        ...state,\n        ...action.payload,\n        price: formatPrice({\n          amount: action.payload.unitAmount,\n          currency: action.payload.currency,\n          quantity: state.quantity,\n        }),\n      };\n    case \"increment\":\n      return {\n        ...state,\n        quantity: state.quantity + 1,\n        price: formatPrice({\n          amount: state.unitAmount,\n          currency: state.currency,\n          quantity: state.quantity + 1,\n        }),\n      };\n    case \"decrement\":\n      return {\n        ...state,\n        quantity: state.quantity - 1,\n        price: formatPrice({\n          amount: state.unitAmount,\n          currency: state.currency,\n          quantity: state.quantity - 1,\n        }),\n      };\n    case \"setLoading\":\n      return { ...state, loading: action.payload.loading };\n    case \"setError\":\n      return { ...state, error: action.payload.error };\n    default:\n      throw new Error();\n  }\n}\n\nconst StripeCheckout = () => {\n  // Redux.\n  const orderDetails = useSelector((state) => state.orderDetails);\n  const { loading, order, error } = orderDetails;\n  const cart = useSelector((state) => state.cart);\n  const userSignin = useSelector((state) => state.userSignin);\n  const { userInfo } = userSignin;\n  const { cartItems, shipping, payment } = cart;\n\n  const priceFixed = order.totalPrice * 100;\n\n  fetchPriceID(priceFixed);\n\n  let items = [];\n  const getPriceID = async (productID, price, qty) => {\n    const taxRate = price * 4;\n    const priceCents = price * 100;\n    let discount;\n    let priceIncluded = priceCents + taxRate;\n    let totalPrice;\n\n    if (userInfo.coupon) {\n      // Sets discount coupon if there is one.\n      discount = parseInt(userInfo.coupon, 10);\n      const discountTotalPrice =\n        priceIncluded - (priceIncluded * discount) / 100;\n      totalPrice = discountTotalPrice;\n    }\n\n    let priceCheck = price.toString();\n    if (priceCheck.includes(\".\")) {\n      price = parseInt(price.toString().replace(\".\", \"\"), 10);\n      // Hit decimal API route.\n\n      const ID = await fetch(\"/api/orders/price/decimal\", {\n        method: \"POST\",\n        headers: {\n          \"content-type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          unitAmount: totalPrice.toFixed(),\n          currency: \"usd\",\n          product: productID,\n        }),\n      })\n        .then((res) => res.json())\n        .then((data) => items.push({ price: data.id, quantity: qty }));\n    }\n    if (!priceCheck.includes(\".\")) {\n      const ID = await fetch(\"/api/orders/price\", {\n        method: \"POST\",\n        headers: {\n          \"content-type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          unitAmount: totalPrice,\n          currency: \"usd\",\n          product: productID,\n        }),\n      })\n        .then((res) => res.json())\n        .then((data) => items.push({ price: data.id, quantity: qty }));\n    }\n  };\n\n  useEffect(() => {\n    cartItems.forEach((item) => getPriceID(item.product, item.price, item.qty));\n    console.log(\"Getting prices, once\");\n  }, []);\n  // cartItems.forEach((item) => getPriceID(item.product, item.price, item.qty));\n\n  const { _id } = orderDetails.order;\n\n  const fetchCheckoutSession = async ({ quantity }) => {\n    return fetch(\"/api/orders/create-checkout-session\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        quantity,\n        email: cart.shipping.contact,\n        items: items,\n        orderID: _id,\n        userToken: userInfo.token,\n        coupon: userInfo.coupon || \"\",\n      }),\n    }).then((res) => res.json());\n  };\n\n  const [state, dispatch] = useReducer(reducer, {\n    quantity: 1,\n    price: priceFixed,\n    loading: false,\n    error: null,\n    stripe: null,\n  });\n\n  useEffect(() => {\n    async function fetchConfig() {\n      // Fetch config from our backend.\n      const { publicKey, unitAmount, currency } = await fetch(\n        \"/api/orders/config\"\n      ).then((res) => res.json());\n\n      // Make sure to call `loadStripe` outside of a components render to avoid\n      // recreating the `Stripe` object on every render.\n\n      dispatch({\n        type: \"useEffectUpdate\",\n        payload: { unitAmount, currency, stripe: await loadStripe(publicKey) },\n      });\n    }\n\n    fetchConfig();\n\n    console.log(\"useEffect\");\n  }, []);\n\n  const handleClick = async (event) => {\n    // Call your backend to create the Checkout session.\n    dispatch({ type: \"setLoading\", payload: { loading: true } });\n    const { sessionId } = await fetchCheckoutSession({\n      quantity: state.quantity,\n    });\n\n    // When the customer clicks on the button, redirect them to Checkout.\n    const { error } = await state.stripe.redirectToCheckout({\n      sessionId,\n    });\n    // If `redirectToCheckout` fails due to a browser or network\n    // error, display the localized error message to your customer\n    // using `error.message`.\n    if (error) {\n      dispatch({ type: \"setError\", payload: { error } });\n      dispatch({ type: \"setLoading\", payload: { loading: false } });\n    }\n  };\n\n  return (\n    <div className=\"sr-root\">\n      <div className=\"sr-main\">\n        {/* <header className=\"sr-header\">\n          <div className=\"sr-header__logo\"></div>\n        </header> */}\n        <section className=\"container\">\n          {}\n\n          <button\n            role=\"link\"\n            onClick={handleClick}\n            disabled={!state.stripe || state.loading}\n          >\n            {state.loading || !state.price\n              ? `Loading...`\n              : `Buy for $${order.totalPrice}`}\n          </button>\n          <div className=\"sr-field-error\">{state.error?.message}</div>\n        </section>\n      </div>\n    </div>\n  );\n};\n\nexport default StripeCheckout;\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { createOrder, detailsOrder, payOrder } from '../actions/orderActions';\nimport PaypalButton from '../components/PaypalButton';\nimport StripeCheckout from '../components/StripeCheckout';\n\nfunction OrderScreen(props) {\n  const userSignin = useSelector(state => state.userSignin);\n  const { userInfo } = userSignin;\n  \n  let discount = null;\n  \n  if(userInfo.coupon)\n  {\n    // Sets discount coupon if there is one.\n    discount = userInfo.coupon;\n    \n\n  }\n\n  const cart = useSelector(state => state.cart);\n\n  const { cartItems, shipping, payment } = cart;\n\n  const orderPay = useSelector(state => state.orderPay);\n  const { loading: loadingPay, success: successPay, error: errorPay } = orderPay;\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (successPay) {\n      props.history.push(\"/success\");\n    } else {\n      dispatch(detailsOrder(props.match.params.id));\n    }\n    return () => {\n    };\n \n  }, [successPay]);\n \n  const handleSuccessPayment = (paymentResult) => {\n    console.log(order,paymentResult);\n    dispatch(payOrder(order, paymentResult));\n  }\n\n  const orderDetails = useSelector(state => state.orderDetails);\n  const { loading, order, error } = orderDetails;\n\n  return loading ? <div>Loading ...</div> : error ? <div>{error}</div> :\n\n    <div>\n      <div className=\"placeorder\">\n        <div className=\"placeorder-info\">\n          <div>\n            <h3>\n              Shipping\n          </h3>\n            <div>\n               {cart.shipping.contact} , {order.shipping.address}, {order.shipping.city},\n           {order.shipping.postalCode}, {order.shipping.country},\n          </div>\n            <div>\n              {order.isDelivered ? \"Delivered at \" + order.deliveredAt : \"Not Delivered.\"}\n            </div>\n          </div>\n          <div>\n            <h3>Payment</h3>\n            <div>\n              Payment Method: {order.payment.paymentMethod}\n            </div>\n            <div>\n              {order.isPaid ? \"Paid at \" + order.paidAt : \"Not Paid.\"}\n            </div>\n          </div>\n          <div>\n            <ul className=\"cart-list-container\">\n              <li>\n                <h3>\n                  Shopping Cart\n          </h3>\n                <div>\n                  Price\n          </div>\n              </li>\n              {\n                order.orderItems.length === 0 ?\n                  <div>\n                    Cart is empty\n          </div>\n                  :\n                  order.orderItems.map(item =>\n                    <li key={item._id}>\n                      <div className=\"cart-image\">\n                        <img src={item.image} alt=\"product\" />\n                      </div>\n                      <div className=\"cart-name\">\n                        <div>\n                          <Link to={\"/product/\" + item.product}>\n                            {item.name}\n                          </Link>\n\n                        </div>\n                        <div>\n                          Qty: {item.qty}\n                        </div>\n                      </div>\n                      <div className=\"cart-price\">\n                        ${item.price}\n                      </div>\n                    </li>\n                  )\n              }\n            </ul>\n          </div>\n\n\n        </div>\n        <div className=\"placeorder-action\">\n          <ul>\n            <li className=\"placeorder-actions-payment\">\n              {loadingPay && <div>Finishing Payment...</div>}\n              {/* {!order.isPaid &&\n                <PaypalButton\n                  amount={order.totalPrice}\n                  onSuccess={handleSuccessPayment} />} */}\n                <StripeCheckout/>\n               \n              \n            </li>\n            <li>\n              <h3>Order Summary</h3>\n            </li>\n            <li>\n              <div>Items</div>\n              <div>${order.itemsPrice}</div>\n            </li>\n            {discount > 0 ?<li> <div>Discount</div>\n          <div>{userInfo.coupon}%</div> </li>: null}\n            <li>\n              <div>Shipping</div>\n              <div>${order.shippingPrice}</div>\n            </li>\n            <li>\n              <div>Tax</div>\n              <div>${order.taxPrice}</div>\n            </li>\n            <li>\n              <div>Order Total</div>\n              <div>${order.totalPrice}</div>\n            </li>\n          </ul>\n\n\n\n        </div>\n\n      </div>\n   \n    </div>\n\n}\n\nexport default OrderScreen;","import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { logout, update } from \"../actions/userActions\";\nimport { listMyOrders } from \"../actions/orderActions\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport moment from \"moment\";\nfunction ProfileScreen(props) {\n  const [name, setName] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const dispatch = useDispatch();\n\n  const userSignin = useSelector((state) => state.userSignin);\n  const { userInfo } = userSignin;\n  console.log(userInfo);\n  const handleLogout = () => {\n    dispatch(logout());\n    props.history.push(\"/signin\");\n  };\n  const submitHandler = (e) => {\n    e.preventDefault();\n    dispatch(update({ userId: userInfo._id, email, name, password }));\n  };\n  const userUpdate = useSelector((state) => state.userUpdate);\n  const { loading, success, error } = userUpdate;\n\n  const myOrderList = useSelector((state) => state.myOrderList);\n  const { loading: loadingOrders, orders, error: errorOrders } = myOrderList;\n  useEffect(() => {\n    if (userInfo) {\n      console.log(userInfo.name);\n      setEmail(userInfo.email);\n      setName(userInfo.name);\n      setPassword(userInfo.password);\n    }\n    dispatch(listMyOrders());\n    return () => {};\n  }, [userInfo]);\n\n  return (\n    <div className=\"profile\">\n      <div className=\"profile-info\">\n        <div className=\"form\">\n          <form onSubmit={submitHandler}>\n            <ul className=\"form-container\">\n              <li>\n                <h2>User Profile</h2>\n              </li>\n              <li>\n                {loading && <div>Loading...</div>}\n                {error && <div>{error}</div>}\n                {success && <div>Profile Saved Successfully.</div>}\n              </li>\n              <li>\n                <label htmlFor=\"name\">Name</label>\n                <input\n                  value={name}\n                  type=\"name\"\n                  name=\"name\"\n                  id=\"name\"\n                  onChange={(e) => setName(e.target.value)}\n                ></input>\n              </li>\n              <li>\n                <label htmlFor=\"email\">Email</label>\n                <input\n                  value={email}\n                  type=\"email\"\n                  name=\"email\"\n                  id=\"email\"\n                  onChange={(e) => setEmail(e.target.value)}\n                ></input>\n              </li>\n              <li>\n                <label htmlFor=\"password\">Password</label>\n                <input\n                  value={password}\n                  type=\"password\"\n                  id=\"password\"\n                  name=\"password\"\n                  onChange={(e) => setPassword(e.target.value)}\n                ></input>\n              </li>\n\n              <li>\n                <button type=\"submit\" className=\"button primary\">\n                  Update\n                </button>\n              </li>\n              <li>\n                <button\n                  type=\"button\"\n                  onClick={handleLogout}\n                  className=\"button secondary full-width\"\n                >\n                  Logout\n                </button>\n              </li>\n            </ul>\n          </form>\n        </div>\n      </div>\n\n      <div className=\"profile-orders content-margined\">\n        <h1>Previous Orders</h1>\n        {loadingOrders ? (\n          <div>Loading...</div>\n        ) : errorOrders ? (\n          <div>{errorOrders} </div>\n        ) : (\n          <table className=\"table\">\n            <thead>\n              <tr>\n                <th>ID</th>\n                <th>DATE</th>\n                <th>TOTAL</th>\n                <th>PAID</th>\n                <th>ACTIONS</th>\n              </tr>\n            </thead>\n            <tbody>\n              {orders.map((order) => (\n                <tr key={order._id}>\n                  <td>{order._id}</td>\n                  <td>\n                    {moment\n                      .utc(order.createdAt)\n                      .local()\n                      .format(\"MM-DD-YYYY h:mm A\")}\n                  </td>\n                  <td>{order.totalPrice}</td>\n                  <td>{order.isPaid}</td>\n                  <td>\n                    <Link to={\"/order/\" + order._id}>DETAILS</Link>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default ProfileScreen;\n","import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { listOrders, deleteOrder } from '../actions/orderActions';\nimport moment from 'moment';\nfunction OrdersScreen(props) {\n  const orderList = useSelector(state => state.orderList);\n  const { loading, orders, error } = orderList;\n\n  const orderDelete = useSelector(state => state.orderDelete);\n  const { loading: loadingDelete, success: successDelete, error: errorDelete } = orderDelete;\n\n  const dispatch = useDispatch();\n  \n\n  \n  useEffect(() => {\n\n    \n    dispatch(listOrders());\n    return () => {\n      //\n    };\n  }, [successDelete]);\n\n  const deleteHandler = (order) => {\n    dispatch(deleteOrder(order._id));\n  }\n  return loading ? <div>Loading...</div> :\n    <div className=\"content content-margined\">\n\n      <div className=\"order-header\">\n        <h3>Orders</h3>\n      </div>\n      <div className=\"order-list\">\n\n        <table className=\"table\">\n          <thead>\n            <tr>\n              <th>DATE</th>\n              <th>NAME</th>\n              <th>ID</th>\n              <th>PAID</th>\n              <th>DELIVERED</th>\n              <th>DELIVERED AT</th>\n              <th>ACTIONS</th>\n            </tr>\n          </thead>\n          <tbody>\n            {orders.map(order => (<tr key={order._id}>\n              <td>{moment.utc(order.createdAt).local().format('MM-DD-YYYY h:mm A') }</td>\n              <td>{order.user.name}</td>\n              <td>{order._id}</td>\n              <td>{order.isPaid.toString()}</td>\n              <td>{order.isDelivered.toString()}</td>\n              <td>{order.deliveredAt}</td>\n              <>\n                <Link to={\"/order/\" + order._id}  className=\"button secondary\" \n                style={{backgroundColor:'#ed5f74',\n                color:'white',borderRadius:'6px',\n                border:'0',padding:'12px 16px',fontWeight:'600',\n                cursor:'pointer',transition:'all 0.2s ease',\n                display:'block',width:'50% /2',}}>Details</Link>\n                {' '}\n                <button type=\"button\" onClick={() => deleteHandler(order)} className=\"button secondary\">Delete</button>\n              </>\n            </tr>))}\n          </tbody>\n        </table>\n\n      </div>\n    </div>\n}\nexport default OrdersScreen;","import React, { useEffect, useState } from \"react\";\nimport Axios from \"axios\";\nimport { setUserCoupon } from \"../actions/userActions\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\nfunction UsersScreen() {\n  const [modalVisible, setModalVisible] = useState(false);\n  const userSignin = useSelector((state) => state.userSignin);\n  const { userInfo } = userSignin;\n  const [coupon, setCoupon] = useState(\"\");\n  const [users, setUsers] = useState([]);\n  const [editUser, setEditUser] = useState(\"\");\n\n  const dispatch = useDispatch();\n  useEffect(() => {\n    const fetchData = async () => {\n      const result = await Axios.get(\"/api/users/list\");\n\n      setUsers(result.data.users);\n    };\n    fetchData();\n  }, []);\n\n  const handleEdit = (user) => {\n    // Pop model, change coupon, push.\n    document.designMode = \"on\";\n    setModalVisible(true);\n    setEditUser(user._id);\n    console.log(user._id);\n  };\n  const submitHandler = (e) => {\n    e.preventDefault();\n    console.log(userInfo);\n    dispatch(setUserCoupon({ userId: editUser, coupon }));\n\n    setModalVisible(false);\n    window.location.reload();\n  };\n  // users.map(user => console.log(user.isAdmin));\n  return (\n    <div>\n      {userInfo.isAdmin ? null : <Redirect to=\"/\" />}\n      <h1>Users and a way to modify them.</h1>\n\n      <table className=\"table\">\n        <thead>\n          <tr>\n            <th>Name</th>\n            <th>Email</th>\n            <th>Admin</th>\n            <th>Coupon</th>\n          </tr>\n        </thead>\n        <tbody>\n          {users.map((user) => (\n            <tr key={user._id}>\n              <td>{user.name}</td>\n              <td>{user.email}</td>\n              <td>{user.isAdmin ? \"Yes\" : \"No\"}</td>\n              {user.coupon ? (\n                <>\n                  {\" \"}\n                  <td>{user.coupon} </td>{\" \"}\n                  <button onClick={(e) => handleEdit(user)}>Edit</button>\n                </>\n              ) : (\n                <>\n                  Add\n                  <td>\n                    <button onClick={(e) => handleEdit(user)}>Edit</button>\n                  </td>\n                </>\n              )}\n            </tr>\n          ))}\n        </tbody>\n      </table>\n      {modalVisible && (\n        <div className=\"form\">\n          <form onSubmit={submitHandler}>\n            <ul className=\"form-container\">\n              <li>\n                <h2>Edit Coupon</h2>\n              </li>\n\n              <li>\n                <label htmlFor=\"coupon\">Coupon</label>\n                <input\n                  type=\"text\"\n                  name=\"coupon\"\n                  value={coupon}\n                  id=\"name\"\n                  onChange={(e) => setCoupon(e.target.value)}\n                  required\n                ></input>\n              </li>\n              <li>\n                <button type=\"submit\" className=\"button primary\">\n                  Update\n                </button>\n              </li>\n              <li>\n                <button\n                  type=\"button\"\n                  onClick={() => setModalVisible(false)}\n                  className=\"button secondary\"\n                >\n                  Back\n                </button>\n              </li>\n            </ul>\n          </form>\n        </div>\n      )}\n    </div>\n  );\n}\nexport default UsersScreen;\n","import React from 'react'\n// import StripeButton from '../components/StripeButton'\nimport StripeCheckout from '../components/StripeCheckout';\nexport default function StripeScreen() {\n    return (\n        <div>\n            <h1>Uh?</h1>\n            <StripeCheckout/>\n        </div>\n    )\n}\n","export default __webpack_public_path__ + \"static/media/header.87b2a658.jpg\";","import React, { useEffect, useState } from \"react\";\nimport { BrowserRouter, Route, Link } from \"react-router-dom\";\nimport \"./App.css\";\nimport SuccessScreen from \"./screens/SuccessScreen\";\nimport HomeScreen from \"./screens/HomeScreen\";\nimport ProductScreen from \"./screens/ProductScreen\";\nimport CartScreen from \"./screens/CartScreen\";\nimport SigninScreen from \"./screens/SigninScreen\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport RegisterScreen from \"./screens/RegisterScreen\";\nimport ProductsScreen from \"./screens/ProductsScreen\";\nimport ShippingScreen from \"./screens/ShippingScreen\";\nimport PaymentScreen from \"./screens/PaymentScreen\";\nimport PlaceOrderScreen from \"./screens/PlaceOrderScreen\";\nimport Logout from \"./screens/Logout\";\nimport OrderScreen from \"./screens/OrderScreen\";\nimport ProfileScreen from \"./screens/ProfileScreen\";\nimport OrdersScreen from \"./screens/OrdersScreen\";\nimport UsersScreen from \"./screens/UsersScreen\";\nimport StripeScreen from \"./screens/StripeScreen\";\nimport { logout } from \"../../frontend/src/actions/userActions\";\nimport header from \"./img/header.jpg\";\n\nfunction App() {\n  const userSignin = useSelector((state) => state.userSignin);\n  const { userInfo } = userSignin;\n  const [productCategories, setCategories] = useState([]);\n\n  const getProductCategories = async () => {\n    const response = fetch(\"https://api.jackhixon.com/api/storefront/products\")\n      .then((res) => res.json())\n      .then((data) => setCategories(data));\n  };\n  useEffect(() => {\n    getProductCategories();\n  }, []);\n\n  const openMenu = () => {\n    document.querySelector(\".sidebar\").classList.add(\"open\");\n  };\n  const closeMenu = () => {\n    document.querySelector(\".sidebar\").classList.remove(\"open\");\n  };\n  return (\n    <BrowserRouter>\n      <div className=\"logo-class\">\n        <Link to=\"/\">\n          {\" \"}\n          <img src={header} alt=\"\"></img>\n        </Link>\n      </div>\n      <div className=\"grid-container\">\n        <header className=\"header p-3 bg-gray-50 rounded border-gray-200 dark:bg-gray-800 dark:border-gray-700\">\n          <div className=\"brand\">\n            {/* <button onClick={openMenu}>&#9776;</button> */}\n          </div>\n          <div className=\"header-links \">\n            <a href=\"/cart\">Cart</a>\n            {userInfo ? (\n              <div className=\"dropdown\">\n                <Link to=\"/profile\">{userInfo.name}</Link>\n                <ul className=\"dropdown-content\">\n                  <li>\n                    <Link to=\"/Profile\">Profile</Link>\n                    <Link to=\"/logout\">Logout</Link>\n                  </li>\n                </ul>\n              </div>\n            ) : (\n              <Link to=\"/signin\">Sign In</Link>\n            )}\n            {userInfo && userInfo.isAdmin && (\n              <div className=\"dropdown\">\n                <a href=\"#\">Admin</a>\n                <ul className=\"dropdown-content\">\n                  <li>\n                    <Link to=\"/orders\">Orders</Link>\n                    <Link to=\"/products\">Products</Link>\n                    <Link to=\"/users\">Users</Link>\n                  </li>\n                </ul>\n              </div>\n            )}\n          </div>\n        </header>\n        <aside className=\"sidebar\">\n          <h3>Shopping Categories</h3>\n          <button className=\"sidebar-close-button\" onClick={closeMenu}>\n            x\n          </button>\n          <ul className=\"categories\">\n            <li>\n              <Link to=\"/category/Testing\">Parts</Link>\n            </li>\n\n            <li>\n              <Link to=\"/category/Description\">Other</Link>\n            </li>\n          </ul>\n        </aside>\n        <main className=\"main\">\n          <div className=\"content\">\n            <Route path=\"/stripe\" component={StripeScreen} />\n            <Route path=\"/users\" component={UsersScreen} />\n            <Route path=\"/success\" component={SuccessScreen} />\n            <Route path=\"/orders\" component={OrdersScreen} />\n            <Route path=\"/profile\" component={ProfileScreen} />\n            <Route path=\"/order/:id\" component={OrderScreen} />\n            <Route path=\"/products\" component={ProductsScreen} />\n            <Route path=\"/shipping\" component={ShippingScreen} />\n            <Route path=\"/payment\" component={PaymentScreen} />\n            <Route path=\"/placeorder\" component={PlaceOrderScreen} />\n            <Route path=\"/signin\" component={SigninScreen} />\n            <Route path=\"/register\" component={RegisterScreen} />\n            <Route path=\"/product/:id\" component={ProductScreen} />\n            <Route path=\"/cart/:id?\" component={CartScreen} />\n            <Route path=\"/category/:id\" component={HomeScreen} />\n            <Route path=\"/logout\" component={Logout} />\n            <Route path=\"/\" exact={true} component={HomeScreen} />\n          </div>\n        </main>\n\n        <footer className=\"footer\">All rights reserved.</footer>\n      </div>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport Cookie from 'js-cookie';\nimport {\n  productListReducer,\n  productDetailsReducer,\n  productSaveReducer,\n  productDeleteReducer,\n  productReviewSaveReducer,\n} from './reducers/productReducers';\nimport { cartReducer } from './reducers/cartReducers';\nimport {\n  userSigninReducer,\n  userRegisterReducer,\n  userUpdateReducer,\n} from './reducers/userReducers';\nimport {\n  orderCreateReducer,\n  orderDetailsReducer,\n  orderPayReducer,\n  myOrderListReducer,\n  orderListReducer,\n  orderDeleteReducer,\n} from './reducers/orderReducers';\n\nconst cartItems = Cookie.getJSON('cartItems') || [];\nconst userInfo = Cookie.getJSON('userInfo') || null;\n\nconst initialState = {\n  cart: { cartItems, shipping: {}, payment: {} },\n  userSignin: { userInfo },\n};\nconst reducer = combineReducers({\n  productList: productListReducer,\n  productDetails: productDetailsReducer,\n  cart: cartReducer,\n  userSignin: userSigninReducer,\n  userRegister: userRegisterReducer,\n  productSave: productSaveReducer,\n  productDelete: productDeleteReducer,\n  productReviewSave: productReviewSaveReducer,\n  orderCreate: orderCreateReducer,\n  orderDetails: orderDetailsReducer,\n  orderPay: orderPayReducer,\n  userUpdate: userUpdateReducer,\n  myOrderList: myOrderListReducer,\n  orderList: orderListReducer,\n  orderDelete: orderDeleteReducer,\n});\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(\n  reducer,\n  initialState,\n  composeEnhancer(applyMiddleware(thunk))\n);\nexport default store;\n","import {\n  PRODUCT_LIST_REQUEST,\n  PRODUCT_LIST_SUCCESS,\n  PRODUCT_LIST_FAIL,\n  PRODUCT_DETAILS_REQUEST,\n  PRODUCT_DETAILS_SUCCESS,\n  PRODUCT_DETAILS_FAIL,\n  PRODUCT_SAVE_REQUEST,\n  PRODUCT_SAVE_SUCCESS,\n  PRODUCT_SAVE_FAIL,\n  PRODUCT_DELETE_REQUEST,\n  PRODUCT_DELETE_SUCCESS,\n  PRODUCT_DELETE_FAIL,\n  PRODUCT_REVIEW_SAVE_SUCCESS,\n  PRODUCT_REVIEW_SAVE_REQUEST,\n  PRODUCT_REVIEW_SAVE_FAIL,\n  PRODUCT_REVIEW_SAVE_RESET,\n} from '../constants/productConstants';\n\nfunction productListReducer(state = { products: [] }, action) {\n  switch (action.type) {\n    case PRODUCT_LIST_REQUEST:\n      return { loading: true, products: [] };\n    case PRODUCT_LIST_SUCCESS:\n      return { loading: false, products: action.payload };\n    case PRODUCT_LIST_FAIL:\n      return { loading: false, error: action.payload };\n    default:\n      return state;\n  }\n}\n\nfunction productDetailsReducer(state = { product: { reviews: [] } }, action) {\n  switch (action.type) {\n    case PRODUCT_DETAILS_REQUEST:\n      return { loading: true };\n    case PRODUCT_DETAILS_SUCCESS:\n      return { loading: false, product: action.payload };\n    case PRODUCT_DETAILS_FAIL:\n      return { loading: false, error: action.payload };\n    default:\n      return state;\n  }\n}\n\nfunction productDeleteReducer(state = { product: {} }, action) {\n  switch (action.type) {\n    case PRODUCT_DELETE_REQUEST:\n      return { loading: true };\n    case PRODUCT_DELETE_SUCCESS:\n      return { loading: false, product: action.payload, success: true };\n    case PRODUCT_DELETE_FAIL:\n      return { loading: false, error: action.payload };\n    default:\n      return state;\n  }\n}\n\nfunction productSaveReducer(state = { product: {} }, action) {\n  switch (action.type) {\n    case PRODUCT_SAVE_REQUEST:\n      return { loading: true };\n    case PRODUCT_SAVE_SUCCESS:\n      return { loading: false, success: true, product: action.payload };\n    case PRODUCT_SAVE_FAIL:\n      return { loading: false, error: action.payload };\n    default:\n      return state;\n  }\n}\nfunction productReviewSaveReducer(state = {}, action) {\n  switch (action.type) {\n    case PRODUCT_REVIEW_SAVE_REQUEST:\n      return { loading: true };\n    case PRODUCT_REVIEW_SAVE_SUCCESS:\n      return { loading: false, review: action.payload, success: true };\n    case PRODUCT_REVIEW_SAVE_FAIL:\n      return { loading: false, errror: action.payload };\n    case PRODUCT_REVIEW_SAVE_RESET:\n      return {};\n    default:\n      return state;\n  }\n}\n\nexport {\n  productListReducer,\n  productDetailsReducer,\n  productSaveReducer,\n  productDeleteReducer,\n  productReviewSaveReducer,\n};\n","import {\n  CART_ADD_ITEM,\n  CART_ADD_LIST_ITEM,\n  CART_REMOVE_ITEM,\n  CART_SAVE_SHIPPING,\n  CART_SAVE_PAYMENT,\n} from \"../constants/cartConstants\";\n\nfunction cartReducer(\n  state = { cartItems: [], shipping: {}, payment: {}, items: []},\n  action\n) {\n  switch (action.type) {\n    // case CART_ADD_LIST_ITEM:\n    //   const {price,quantity} = action.payload;\n    //   return [...items,{price,quantity}];\n    \n\n    // Not sure what to do here.\n    case CART_ADD_ITEM:\n      const item = action.payload;\n      const product = state.cartItems.find((x) => x.product === item.product);\n      if (product) {\n        return {\n          cartItems: state.cartItems.map((x) =>\n            x.product === product.product ? item : x\n          ),\n        };\n      }\n      return { cartItems: [...state.cartItems, item] };\n    case CART_REMOVE_ITEM:\n      return {\n        cartItems: state.cartItems.filter((x) => x.product !== action.payload),\n      };\n    case CART_SAVE_SHIPPING:\n      return { ...state, shipping: action.payload };\n    case CART_SAVE_PAYMENT:\n      return { ...state, payment: action.payload };\n    default:\n      return state;\n  }\n}\n\nexport { cartReducer };\n","import { USER_SIGNIN_REQUEST, USER_SIGNIN_SUCCESS, USER_SIGNIN_FAIL, USER_REGISTER_REQUEST, USER_REGISTER_SUCCESS, USER_REGISTER_FAIL, USER_LOGOUT, USER_UPDATE_REQUEST, USER_UPDATE_SUCCESS, USER_UPDATE_FAIL } from \"../constants/userConstants\";\n\nfunction userSigninReducer(state = {}, action) {\n  switch (action.type) {\n    case USER_SIGNIN_REQUEST:\n      return { loading: true };\n    case USER_SIGNIN_SUCCESS:\n      return { loading: false, userInfo: action.payload };\n    case USER_SIGNIN_FAIL:\n      return { loading: false, error: action.payload };\n    case USER_LOGOUT:\n      return {};\n    default: return state;\n  }\n}\n\nfunction userUpdateReducer(state = {}, action) {\n  switch (action.type) {\n    case USER_UPDATE_REQUEST:\n      return { loading: true };\n    case USER_UPDATE_SUCCESS:\n      return { loading: false, userInfo: action.payload };\n    case USER_UPDATE_FAIL:\n      return { loading: false, error: action.payload };\n    default: return state;\n  }\n}\n\nfunction userRegisterReducer(state = {}, action) {\n  switch (action.type) {\n    case USER_REGISTER_REQUEST:\n      return { loading: true };\n    case USER_REGISTER_SUCCESS:\n      return { loading: false, userInfo: action.payload };\n    case USER_REGISTER_FAIL:\n      return { loading: false, error: action.payload };\n    default: return state;\n  }\n}\nexport {\n  userSigninReducer, userRegisterReducer, userUpdateReducer\n}","import {\n  ORDER_CREATE_REQUEST, ORDER_CREATE_SUCCESS, ORDER_CREATE_FAIL,\n  ORDER_DETAILS_REQUEST, ORDER_DETAILS_SUCCESS, ORDER_DETAILS_FAIL,\n  ORDER_PAY_REQUEST, ORDER_PAY_SUCCESS, ORDER_PAY_FAIL,\n  MY_ORDER_LIST_REQUEST, MY_ORDER_LIST_SUCCESS, MY_ORDER_LIST_FAIL,\n  ORDER_LIST_REQUEST, ORDER_LIST_SUCCESS, ORDER_LIST_FAIL, ORDER_DELETE_REQUEST, ORDER_DELETE_SUCCESS, ORDER_DELETE_FAIL\n} from \"../constants/orderConstants\";\n\n\nfunction orderCreateReducer(state = {}, action) {\n  switch (action.type) {\n    case ORDER_CREATE_REQUEST:\n      return { loading: true };\n    case ORDER_CREATE_SUCCESS:\n      return { loading: false, order: action.payload, success: true };\n    case ORDER_CREATE_FAIL:\n      return { loading: false, error: action.payload };\n    default: return state;\n  }\n}\n\n\nfunction orderDetailsReducer(state = {\n  order: {\n    orderItems: [],\n    shipping: {},\n    payment: {}\n  }\n}, action) {\n  switch (action.type) {\n    case ORDER_DETAILS_REQUEST:\n      return { loading: true };\n    case ORDER_DETAILS_SUCCESS:\n      return { loading: false, order: action.payload };\n    case ORDER_DETAILS_FAIL:\n      return { loading: false, error: action.payload };\n    default: return state;\n  }\n}\n\n\nfunction myOrderListReducer(state = {\n  orders: []\n}, action) {\n  switch (action.type) {\n    case MY_ORDER_LIST_REQUEST:\n      return { loading: true };\n    case MY_ORDER_LIST_SUCCESS:\n      return { loading: false, orders: action.payload };\n    case MY_ORDER_LIST_FAIL:\n      return { loading: false, error: action.payload };\n    default: return state;\n  }\n}\n\nfunction orderListReducer(state = {\n  orders: []\n}, action) {\n  switch (action.type) {\n    case ORDER_LIST_REQUEST:\n      return { loading: true };\n    case ORDER_LIST_SUCCESS:\n      return { loading: false, orders: action.payload };\n    case ORDER_LIST_FAIL:\n      return { loading: false, error: action.payload };\n    default: return state;\n  }\n}\n\nfunction orderPayReducer(state = {\n  order: {\n    orderItems: [],\n    shipping: {},\n    payment: {}\n  }\n}, action) {\n  switch (action.type) {\n    case ORDER_PAY_REQUEST:\n      return { loading: true };\n    case ORDER_PAY_SUCCESS:\n      return { loading: false, success: true };\n    case ORDER_PAY_FAIL:\n      return { loading: false, error: action.payload };\n    default: return state;\n  }\n}\n\nfunction orderDeleteReducer(state = {\n  order: {\n    orderItems: [],\n    shipping: {},\n    payment: {}\n  }\n}, action) {\n  switch (action.type) {\n    case ORDER_DELETE_REQUEST:\n      return { loading: true };\n    case ORDER_DELETE_SUCCESS:\n      return { loading: false, success: true };\n    case ORDER_DELETE_FAIL:\n      return { loading: false, error: action.payload };\n    default: return state;\n  }\n}\nexport {\n  orderCreateReducer, orderDetailsReducer,\n  orderPayReducer, myOrderListReducer, orderListReducer, orderDeleteReducer\n}","import React from 'react';\nimport { Provider } from 'react-redux';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport store from './store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>, document.getElementById('root'));\n\n "],"sourceRoot":""}