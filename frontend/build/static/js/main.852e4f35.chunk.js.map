{"version":3,"sources":["screens/SuccessScreen.js","constants/productConstants.js","actions/productActions.js","components/Rating.js","screens/HomeScreen.js","screens/ProductScreen.js","constants/cartConstants.js","actions/cartActions.js","screens/CartScreen.js","constants/userConstants.js","actions/userActions.js","screens/SigninScreen.js","screens/RegisterScreen.js","screens/ProductsScreen.js","components/CheckoutSteps.js","screens/ShippingScreen.js","screens/PaymentScreen.js","constants/orderConstants.js","screens/PlaceOrderScreen.js","actions/orderActions.js","screens/Logout.js","components/PaypalButton.js","components/StripeCheckout.js","screens/OrderScreen.js","screens/ProfileScreen.js","screens/OrdersScreen.js","screens/UsersScreen.js","screens/StripeScreen.js","img/header.jpg","App.js","store.js","reducers/productReducers.js","reducers/cartReducers.js","reducers/userReducers.js","reducers/orderReducers.js","index.js"],"names":["divStyle","textAlign","SuccessScreen","style","setTimeout","window","location","href","PRODUCT_LIST_REQUEST","PRODUCT_LIST_SUCCESS","PRODUCT_LIST_FAIL","PRODUCT_DETAILS_REQUEST","PRODUCT_DETAILS_SUCCESS","PRODUCT_DETAILS_FAIL","PRODUCT_SAVE_REQUEST","PRODUCT_SAVE_SUCCESS","PRODUCT_SAVE_FAIL","PRODUCT_DELETE_REQUEST","PRODUCT_DELETE_SUCCESS","PRODUCT_DELETE_FAIL","PRODUCT_REVIEW_SAVE_REQUEST","PRODUCT_REVIEW_SAVE_SUCCESS","PRODUCT_REVIEW_SAVE_FAIL","PRODUCT_REVIEW_SAVE_RESET","listProducts","category","searchKeyword","sortOrder","dispatch","type","axios","get","data","payload","message","saveProduct","product","getState","userInfo","userSignin","_id","Axios","post","headers","Authorization","token","put","Rating","props","value","className","text","useState","setSearchKeyword","setSortOrder","match","params","id","productList","useSelector","state","products","loading","error","useDispatch","fetch","Authentication","productsFetch","useEffect","submitHandler","e","preventDefault","sortHandler","target","onSubmit","name","onChange","console","log","map","to","src","image","alt","brand","price","rating","numReviews","HomeScreen","ProductScreen","qty","setQty","setRating","comment","setComment","productDetails","productSaveSuccess","productReviewSave","success","bullets","document","querySelectorAll","length","forEach","bullet","i","setAttribute","images","productId","alert","handleAddToCart","history","push","reverse","index","description","countInStock","Array","keys","x","onClick","reviews","review","createdAt","substring","htmlFor","CART_ADD_ITEM","CART_REMOVE_ITEM","CART_SAVE_SHIPPING","CART_SAVE_PAYMENT","addToCart","cartItems","cart","Cookie","set","JSON","stringify","CartScreen","search","Number","split","removeFromCartHandler","removeFromCart","method","body","unitAmount","currency","then","res","json","response","quantity","addItem","checkoutHandler","item","reduce","a","c","disabled","USER_SIGNIN_REQUEST","USER_SIGNIN_SUCCESS","USER_SIGNIN_FAIL","USER_UPDATE_REQUEST","USER_UPDATE_SUCCESS","USER_UPDATE_FAIL","USER_REGISTER_REQUEST","USER_REGISTER_SUCCESS","USER_REGISTER_FAIL","USER_LOGOUT","logout","remove","SigninScreen","email","setEmail","password","setPassword","redirect","signin","RegisterScreen","setName","setRePassword","userRegister","register","required","ProductsScreen","modalVisible","setModalVisible","setId","setPrice","setImage","setBrand","setCategory","setCountInStock","setDescription","uploading","setUploading","fileInput","useRef","productSave","loadingSave","successSave","errorSave","productDelete","successDelete","openModal","deleteHandler","delete","multiple","ref","files","file","bodyFormData","FormData","append","catch","err","CheckoutSteps","step1","step2","step3","step4","require","config","usps","server","userId","ttl","ShippingScreen","address","setAddress","city","setCity","setState","postalCode","setPostalCode","country","setCountry","contact","setContact","shipping","adresss","verify","street1","zip","verifiedAddress","getElementById","innerText","reload","PaymentScreen","paymentMethod","setPaymentMethod","for","ORDER_CREATE_REQUEST","ORDER_CREATE_SUCCESS","ORDER_CREATE_FAIL","ORDER_DETAILS_REQUEST","ORDER_DETAILS_SUCCESS","ORDER_DETAILS_FAIL","MY_ORDER_LIST_REQUEST","MY_ORDER_LIST_SUCCESS","MY_ORDER_LIST_FAIL","ORDER_LIST_REQUEST","ORDER_LIST_SUCCESS","ORDER_LIST_FAIL","ORDER_PAY_REQUEST","ORDER_PAY_SUCCESS","ORDER_PAY_FAIL","ORDER_DELETE_REQUEST","ORDER_DELETE_SUCCESS","ORDER_DELETE_FAIL","PlaceOrderScreen","orderCreate","order","payment","itemsPrice","shippingPrice","discount","taxPrice","totalPrice","coupon","parseInt","newOrder","createOrder","orderItems","Logout","PaypalButton","fetchPriceID","formatPrice","amount","numberFormat","Intl","NumberFormat","currencyDisplay","parts","formatToParts","zeroDecimalCurrency","total","toFixed","format","reducer","action","Error","StripeCheckout","orderDetails","priceFixed","items","getPriceID","productID","priceIncluded","priceCheck","toString","includes","replace","fetchCheckoutSession","orderID","userToken","useReducer","stripe","publicKey","loadStripe","fetchConfig","handleClick","event","sessionId","redirectToCheckout","role","OrderScreen","orderPay","loadingPay","successPay","orderId","isDelivered","deliveredAt","isPaid","paidAt","ProfileScreen","userUpdate","myOrderList","loadingOrders","orders","errorOrders","update","moment","utc","local","OrdersScreen","orderList","orderDelete","user","backgroundColor","color","borderRadius","border","padding","fontWeight","cursor","transition","display","width","UsersScreen","setCoupon","users","setUsers","editUser","setEditUser","fetchData","result","handleEdit","designMode","isAdmin","setUserCoupon","StripeScreen","App","setCategories","getProductCategories","header","querySelector","classList","path","component","exact","initialState","getJSON","combineReducers","find","filter","errror","composeEnhancer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","render"],"mappings":"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","file":"static/js/main.852e4f35.chunk.js","sourcesContent":["\nimport React from 'react';\nconst divStyle = {\n   textAlign:\"center\"\n}\n\nfunction SuccessScreen() {\n\n\n  return (\n      <div style={divStyle}>\n        \n          <h1 >Payment Success</h1>\n    <h3>You will receive an email receipt shortly.</h3>\n        {setTimeout(() => { window.location.href = '/'},3000)}\n      </div>\n    \n  )\n}\nexport default SuccessScreen;\n","export const PRODUCT_LIST_REQUEST = 'PRODUCT_LIST_REQUEST';\nexport const PRODUCT_LIST_SUCCESS = 'PRODUCT_LIST_SUCCESS';\nexport const PRODUCT_LIST_FAIL = 'PRODUCT_LIST_FAIL';\n\nexport const PRODUCT_DETAILS_REQUEST = 'PRODUCT_DETAILS_REQUEST';\nexport const PRODUCT_DETAILS_SUCCESS = 'PRODUCT_DETAILS_SUCCESS';\nexport const PRODUCT_DETAILS_FAIL = 'PRODUCT_DETAILS_FAIL';\n\nexport const PRODUCT_SAVE_REQUEST = 'PRODUCT_SAVE_REQUEST';\nexport const PRODUCT_SAVE_SUCCESS = 'PRODUCT_SAVE_SUCCESS';\nexport const PRODUCT_SAVE_FAIL = 'PRODUCT_SAVE_FAIL';\n\nexport const PRODUCT_DELETE_REQUEST = 'PRODUCT_DELETE_REQUEST';\nexport const PRODUCT_DELETE_SUCCESS = 'PRODUCT_DELETE_SUCCESS';\nexport const PRODUCT_DELETE_FAIL = 'PRODUCT_DELETE_FAIL';\n\nexport const PRODUCT_REVIEW_SAVE_REQUEST = 'PRODUCT_REVIEW_SAVE_REQUEST';\nexport const PRODUCT_REVIEW_SAVE_SUCCESS = 'PRODUCT_REVIEW_SAVE_SUCCESS';\nexport const PRODUCT_REVIEW_SAVE_FAIL = 'PRODUCT_REVIEW_SAVE_FAIL';\nexport const PRODUCT_REVIEW_SAVE_RESET = 'PRODUCT_REVIEW_SAVE_RESET';\n","import {\n  PRODUCT_LIST_REQUEST,\n  PRODUCT_LIST_SUCCESS,\n  PRODUCT_LIST_FAIL,\n  PRODUCT_DETAILS_REQUEST,\n  PRODUCT_DETAILS_SUCCESS,\n  PRODUCT_DETAILS_FAIL,\n  PRODUCT_SAVE_REQUEST,\n  PRODUCT_SAVE_SUCCESS,\n  PRODUCT_SAVE_FAIL,\n  PRODUCT_DELETE_SUCCESS,\n  PRODUCT_DELETE_FAIL,\n  PRODUCT_DELETE_REQUEST,\n  PRODUCT_REVIEW_SAVE_REQUEST,\n  PRODUCT_REVIEW_SAVE_FAIL,\n  PRODUCT_REVIEW_SAVE_SUCCESS,\n} from '../constants/productConstants';\nimport axios from 'axios';\nimport Axios from 'axios';\n\nconst listProducts = (\n  category = '',\n  searchKeyword = '',\n  sortOrder = ''\n) => async (dispatch) => {\n  try {\n    dispatch({ type: PRODUCT_LIST_REQUEST });\n    const { data } = await axios.get(\n      '/api/products?category=' +\n        category +\n        '&searchKeyword=' +\n        searchKeyword +\n        '&sortOrder=' +\n        sortOrder\n    );\n    dispatch({ type: PRODUCT_LIST_SUCCESS, payload: data });\n  } catch (error) {\n    dispatch({ type: PRODUCT_LIST_FAIL, payload: error.message });\n  }\n};\n\nconst saveProduct = (product) => async (dispatch, getState) => {\n\n  try {\n    dispatch({ type: PRODUCT_SAVE_REQUEST, payload: product });\n    const {\n      userSignin: { userInfo },\n    } = getState();\n    if (!product._id) {\n      const { data } = await Axios.post('/api/products', product, {\n        headers: {\n          Authorization: 'Bearer ' + userInfo.token,\n        },\n      });\n      dispatch({ type: PRODUCT_SAVE_SUCCESS, payload: data });\n    } else {\n      const { data } = await Axios.put(\n        '/api/products/' + product._id,\n        product,\n        {\n          headers: {\n            Authorization: 'Bearer ' + userInfo.token,\n          },\n        }\n      );\n      dispatch({ type: PRODUCT_SAVE_SUCCESS, payload: data });\n    }\n  } catch (error) {\n    dispatch({ type: PRODUCT_SAVE_FAIL, payload: error.message });\n  }\n};\n\nconst detailsProduct = (productId) => async (dispatch) => {\n  try {\n    dispatch({ type: PRODUCT_DETAILS_REQUEST, payload: productId });\n    const { data } = await axios.get('/api/products/' + productId);\n    dispatch({ type: PRODUCT_DETAILS_SUCCESS, payload: data });\n  } catch (error) {\n    dispatch({ type: PRODUCT_DETAILS_FAIL, payload: error.message });\n  }\n};\n\nconst deleteProdcut = (productId) => async (dispatch, getState) => {\n  try {\n    const {\n      userSignin: { userInfo },\n    } = getState();\n    dispatch({ type: PRODUCT_DELETE_REQUEST, payload: productId });\n    const { data } = await axios.delete('/api/products/' + productId, {\n      headers: {\n        Authorization: 'Bearer ' + userInfo.token,\n      },\n    });\n    dispatch({ type: PRODUCT_DELETE_SUCCESS, payload: data, success: true });\n  } catch (error) {\n    dispatch({ type: PRODUCT_DELETE_FAIL, payload: error.message });\n  }\n};\n\nconst saveProductReview = (productId, review) => async (dispatch, getState) => {\n  try {\n    const {\n      userSignin: {\n        userInfo: { token },\n      },\n    } = getState();\n    dispatch({ type: PRODUCT_REVIEW_SAVE_REQUEST, payload: review });\n    const { data } = await axios.post(\n      `/api/products/${productId}/reviews`,\n      review,\n      {\n        headers: {\n          Authorization: 'Bearer ' + token,\n        },\n      }\n    );\n    dispatch({ type: PRODUCT_REVIEW_SAVE_SUCCESS, payload: data });\n  } catch (error) {\n    // report error\n    dispatch({ type: PRODUCT_REVIEW_SAVE_FAIL, payload: error.message });\n  }\n};\n\nexport {\n  listProducts,\n  detailsProduct,\n  saveProduct,\n  deleteProdcut,\n  saveProductReview,\n};\n","import React from 'react';\n\nexport default function Rating(props) {\n  return !props.value ? (\n    <div></div>\n  ) : (\n    <div className=\"rating\">\n      <span>\n        <i\n          className={\n            props.value >= 1\n              ? 'fa fa-star'\n              : props.value >= 0.5\n              ? 'fa fa-star-half-o'\n              : 'fa fa-star-o'\n          }\n        ></i>\n      </span>\n      <span>\n        <i\n          className={\n            props.value >= 2\n              ? 'fa fa-star'\n              : props.value >= 1.5\n              ? 'fa fa-star-half-o'\n              : 'fa fa-star-o'\n          }\n        ></i>\n      </span>\n      <span>\n        <i\n          className={\n            props.value >= 3\n              ? 'fa fa-star'\n              : props.value >= 2.5\n              ? 'fa fa-star-half-o'\n              : 'fa fa-star-o'\n          }\n        ></i>\n      </span>\n      <span>\n        <i\n          className={\n            props.value >= 4\n              ? 'fa fa-star'\n              : props.value >= 3.5\n              ? 'fa fa-star-half-o'\n              : 'fa fa-star-o'\n          }\n        ></i>\n      </span>\n      <span>\n        <i\n          className={\n            props.value >= 5\n              ? 'fa fa-star'\n              : props.value >= 4.5\n              ? 'fa fa-star-half-o'\n              : 'fa fa-star-o'\n          }\n        ></i>\n      </span>\n      <span>{props.text ? props.text : ''}</span>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { listProducts } from \"../actions/productActions\";\nimport Rating from \"../components/Rating\";\nimport { Product } from \"../components/Product\";\nexport async function  HomeScreen(props) {\n  const [searchKeyword, setSearchKeyword] = useState(\"\");\n  const [sortOrder, setSortOrder] = useState(\"\");\n  const category = props.match.params.id ? props.match.params.id : \"\";\n  const productList = useSelector((state) => state.productList);\n  const { products, loading, error } = productList;\n  const dispatch = useDispatch();\n  const productsFetch = await fetch(\n    \"https://api.jackhixon.com/api/storefront/products\",\n    {\n      headers: {\n        Authentication: \"hello\",\n      }, \n    }\n  );\n  useEffect(() => {\n    dispatch(listProducts(category));\n\n    return () => {\n      //\n    };\n  }, [category]);\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n    dispatch(listProducts(category, searchKeyword, sortOrder));\n  };\n  const sortHandler = (e) => {\n    setSortOrder(e.target.value);\n    dispatch(listProducts(category, searchKeyword, sortOrder));\n  };\n\n  return (\n    <>\n      {category && <h2>{category}</h2>}\n\n      <ul className=\"filter\">\n        <li>\n          <form onSubmit={submitHandler}>\n            <input\n              name=\"searchKeyword\"\n              onChange={(e) => setSearchKeyword(e.target.value)}\n            />\n            <button type=\"submit\">Search</button>\n          </form>\n        </li>\n        <li>\n          Sort By{\" \"}\n          <select name=\"sortOrder\" onChange={sortHandler}>\n            <option value=\"\">Newest</option>\n            <option value=\"lowest\">Lowest</option>\n            <option value=\"highest\">Highest</option>\n          </select>\n        </li>\n      </ul>\n\n      {loading ? (\n        <div>Loading...</div>\n      ) : error ? (\n        <div>{error}</div>\n      ) : (\n        <ul className=\"products\">\n          {console.log(products)}\n          {productsFetch.map((product) => (\n            <li key={product._id}>\n              <div className=\"product\">\n                <Link to={\"/product/\" + product._id}>\n                  <img\n                    className=\"product-image\"\n                    src={product.image}\n                    alt=\"product\"\n                  />\n                </Link>\n                <div className=\"product-name\">\n                  <Link to={\"/product/\" + product._id}>{product.name}</Link>\n                </div>\n                <div className=\"product-brand\">{product.brand}</div>\n                <div className=\"product-price\">${product.price}</div>\n                <div className=\"product-rating\">\n                  <Rating\n                    value={product.rating}\n                    text={product.numReviews + \" reviews\"}\n                  />\n                </div>\n              </div>\n            </li>\n          ))}\n        </ul>\n      )}\n    </>\n  );\n}\nexport default HomeScreen;\n","  import React, { useEffect, useState } from \"react\";\n  import { Link } from \"react-router-dom\";\n  import { useSelector, useDispatch } from \"react-redux\";\n  import { detailsProduct, saveProductReview } from \"../actions/productActions\";\n  import Rating from \"../components/Rating\";\n  import { PRODUCT_REVIEW_SAVE_RESET } from \"../constants/productConstants\";\n  import AwesomeSlider from \"react-awesome-slider\";\n  import \"react-awesome-slider/dist/styles.css\";\n\n\n  function ProductScreen(props) {\n    const [qty, setQty] = useState(1);\n    const [rating, setRating] = useState(0);\n    const [comment, setComment] = useState(\"\");\n    const userSignin = useSelector((state) => state.userSignin);\n    const { userInfo } = userSignin;\n    const productDetails = useSelector((state) => state.productDetails);\n    const { product, loading, error } = productDetails;\n    const productReviewSave = useSelector((state) => state.productReviewSave);\n    const { success: productSaveSuccess } = productReviewSave;\n    const dispatch = useDispatch();\n\n    \n    useEffect(() => {\n      let bullets = document.querySelectorAll(\".awssld__bullets button\");\n      if(product && bullets.length > 0)\n      {\n        bullets.forEach((bullet,i) => {\n          bullet.setAttribute(\"style\",`background-image:url(${product.images[i]})`);\n        })\n      }\n      \n    },[product])\n\n\n    useEffect(() => {\n    \n    \n      if (productSaveSuccess) {\n        alert(\"Review submitted successfully.\");\n        setRating(0);\n        setComment(\"\");\n        dispatch({ type: PRODUCT_REVIEW_SAVE_RESET });\n      }\n      dispatch(detailsProduct(props.match.params.id));\n      \n      return () => {\n      \n      };\n    }, [productSaveSuccess]);\n    const submitHandler = (e) => {\n      e.preventDefault();\n      // dispatch actions\n      dispatch(\n        saveProductReview(props.match.params.id, {\n          name: userInfo.name,\n          rating: rating,\n          comment: comment,\n        })\n      );\n  \n    };\n    const handleAddToCart = async () => {\n      props.history.push(\"/cart/\" + props.match.params.id + \"?qty=\" + qty);\n    };\n\n    return (\n      <div>\n        <div className=\"back-to-result\">\n          <Link to=\"/\">Back to result</Link>\n        </div>\n        {loading ? (\n          <div>Loading...</div>\n        ) : error ? (\n          <div>{error} </div>\n        ) : (\n          <>\n          \n            <div className=\"details\">\n              <div className=\"details-image\">\n                <div className=\"aws-frm--2hSr\">\n                <AwesomeSlider className=\"aws-button\">\n                  {/*   Map over product.image array and add divs according.*/}\n                  {/* This array is reversed to match thumbnail */ }\n                  \n\n                \n\n                  {product.images? product.images.reverse().map((image,index) => {\n                      \n                     \n\n                  return (\n                    \n                    <div key={index} data-src={image}></div> \n                  \n                  )}) :( null\n                  )}\n                \n                </AwesomeSlider>\n                \n                </div>\n              </div>\n              <div className=\"details-info\">\n                <ul>\n                  <li>\n                    <h4>{product.name}</h4>\n                  </li>\n                  <li>\n                    <a href=\"#reviews\">\n                      <Rating\n                        value={product.rating}\n                        text={product.numReviews + \" reviews\"}\n                      />\n                    </a>\n                  </li>\n                  <li>\n                    Price: <b>${product.price}</b>\n                  </li>\n                  <li>\n                    Description:\n                    <div>{product.description}</div>\n                  </li>\n                </ul>\n              </div>\n              <div className=\"details-action\">\n                <ul>\n                  <li>Price: {product.price}</li>\n                  <li>\n                    Status:{\" \"}\n                    {product.countInStock > 0 ? \"In Stock\" : \"Unavailable.\"}\n                  </li>\n                  <li>\n                    Qty:{\" \"}\n                    <select\n                      value={qty}\n                      onChange={(e) => {\n                        setQty(e.target.value);\n                      }}\n                    >\n                      {[...Array(product.countInStock).keys()].map((x) => (\n                        <option key={x + 1} value={x + 1}>\n                          {x + 1}\n                        </option>\n                      ))}\n                    </select>\n                  </li>\n                  <li>\n                    {product.countInStock > 0 && (\n                      <button\n                        onClick={handleAddToCart}\n                        className=\"button primary\"\n                      >\n                        Add to Cart\n                      </button>\n                    )}\n                  </li>\n                </ul>\n              </div>\n            </div>\n            <div className=\"content-margined\">\n              <h2>Reviews</h2>\n              {!product.reviews.length && <div>There is no review</div>}\n              <ul className=\"review\" id=\"reviews\">\n                {product.reviews.map((review) => (\n                  <li key={review._id}>\n                    <div>{review.name}</div>\n                    <div>\n                      <Rating value={review.rating}></Rating>\n                    </div>\n                    <div>{review.createdAt.substring(0, 10)}</div>\n                    <div>{review.comment}</div>\n                  </li>\n                ))}\n                <li>\n                  <h3>Write a customer review</h3>\n                  {userInfo ? (\n                    <form onSubmit={submitHandler}>\n                      <ul className=\"form-container\">\n                        <li>\n                          <label htmlFor=\"rating\">Rating</label>\n                          <select\n                            name=\"rating\"\n                            id=\"rating\"\n                            value={rating}\n                            onChange={(e) => setRating(e.target.value)}\n                          >\n                            <option value=\"1\">1- Poor</option>\n                            <option value=\"2\">2- Fair</option>\n                            <option value=\"3\">3- Good</option>\n                            <option value=\"4\">4- Very Good</option>\n                            <option value=\"5\">5- Excelent</option>\n                          </select>\n                        </li>\n                        <li>\n                          <label htmlFor=\"comment\">Comment</label>\n                          <textarea\n                            name=\"comment\"\n                            value={comment}\n                            onChange={(e) => setComment(e.target.value)}\n                          ></textarea>\n                        </li>\n                        <li>\n                          <button type=\"submit\" className=\"button primary\">\n                            Submit\n                          </button>\n                        </li>\n                      </ul>\n                    </form>\n                  ) : (\n                    <div>\n                      Please <Link to=\"/signin\">Sign-in</Link> to write a review.\n                    </div>\n                  )}\n                </li>\n              </ul>\n            </div>\n          </>\n        )}\n      </div>\n    );\n  }\n  export default ProductScreen;\n","export const CART_ADD_ITEM = 'CART_ADD_ITEM';\nexport const CART_REMOVE_ITEM = 'CART_REMOVE_ITEM';\nexport const CART_SAVE_SHIPPING = 'CART_SAVE_SHIPPING';\nexport const CART_SAVE_PAYMENT = 'CART_SAVE_PAYMENT';\nexport const CART_ADD_LIST_ITEM = 'CART_ADD_LIST_ITEM';","import Axios from \"axios\";\nimport Cookie from \"js-cookie\";\nimport { CART_ADD_ITEM, CART_REMOVE_ITEM, CART_SAVE_SHIPPING, CART_SAVE_PAYMENT, CART_ADD_LIST_ITEM } from \"../constants/cartConstants\";\n\n\nconst addItem =  (productId, qty) => async (dispatch,getState) => {\n //  When adding cart, get price ID and quanity and add to Redux state\n  try{  \n  const response = await fetch(\"/api/orders/price\", {\n      method: \"POST\",\n      headers: {\n        \"content-type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        unitAmount: 0,\n        currency: \"usd\",\n        product: productId,\n      }),\n    }).then((res) => res.json());\n        \n    \n      dispatch({type:CART_ADD_LIST_ITEM, payload: {\n        price:response.id,\n        quantity:qty\n      }});\n \n  \n    \n}\n\ncatch (error) {\n  console.log(\"ERROR \" + error.message)\n\n}\n}\nconst addToCart = (productId, qty) => async (dispatch, getState) => {\n  try {\n    const { data } = await Axios.get(\"/api/products/\" + productId);\n    dispatch({\n      type: CART_ADD_ITEM, payload: {\n        product: data._id,\n        name: data.name,\n        image: data.image,\n        price: data.price,\n        countInStock: data.countInStock,\n        qty,\n      }\n    });\n    const { cart: { cartItems } } = getState();\n    Cookie.set(\"cartItems\", JSON.stringify(cartItems));\n\n  } catch (error) {\n      console.log(error.message);\n  }\n}\nconst removeFromCart = (productId) => (dispatch, getState) => {\n  dispatch({ type: CART_REMOVE_ITEM, payload: productId });\n\n  const { cart: { cartItems } } = getState();\n  Cookie.set(\"cartItems\", JSON.stringify(cartItems));\n}\nconst saveShipping = (data) => (dispatch) => {\n  dispatch({ type: CART_SAVE_SHIPPING, payload: data });\n}\nconst savePayment = (data) => (dispatch) => {\n  dispatch({ type: CART_SAVE_PAYMENT, payload: data });\n}\nexport { addToCart, addItem, removeFromCart, saveShipping, savePayment }","import React, { useEffect } from \"react\";\nimport { addToCart, removeFromCart, addItem } from \"../actions/cartActions\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nfunction CartScreen(props) {\n  const cart = useSelector((state) => state.cart);\n\n  const { cartItems } = cart;\n\n  const productId = props.match.params.id;\n  const qty = props.location.search\n    ? Number(props.location.search.split(\"=\")[1])\n    : 1;\n\n  const dispatch = useDispatch();\n  const removeFromCartHandler = (productId) => {\n    // Remove from List Items\n    dispatch(removeFromCart(productId));\n  };\n  useEffect(() => {\n    if (productId) {\n      //  Add to list items\n      dispatch(addItem(productId, qty));\n      dispatch(addToCart(productId, qty));\n    }\n  }, []);\n\n  const checkoutHandler = async () => {\n    props.history.push(\"/signin?redirect=shipping\");\n  };\n\n  return (\n    <div className=\"cart\">\n      <div className=\"cart-list\">\n        <ul className=\"cart-list-container\">\n          <li>\n            <h3>Shopping Cart</h3>\n            <div>Price</div>\n          </li>\n          {cartItems.length === 0 ? (\n            <div>Cart is empty</div>\n          ) : (\n            cartItems.map((item, index) => (\n              \n              <li key={index}>\n                <div className=\"cart-image\">\n                  <img src={item.image} alt=\"product\" />\n                </div>\n                <div className=\"cart-name\">\n                  <div>\n                    <Link to={\"/product/\" + item.product}>{item.name}</Link>\n                  </div>\n                  <div>\n                    Qty:\n                    <select\n                      value={item.qty}\n                      onChange={(e) =>\n                        dispatch(addToCart(item.product, e.target.value))\n                      }\n                    >\n                      {[...Array(item.countInStock).keys()].map((x) => (\n                        <option key={x + 1} value={x + 1}>\n                          {x + 1}\n                        </option>\n                      ))}\n                    </select>\n                    <button\n                      type=\"button\"\n                      className=\"button\"\n                      onClick={() => removeFromCartHandler(item.product)}\n                    >\n                      Delete\n                    </button>\n                  </div>\n                </div>\n                <div className=\"cart-price\">${item.price}</div>\n              </li>\n            ))\n          )}\n        </ul>\n      </div>\n      <div className=\"cart-action\">\n        <h3>\n          Subtotal ( {cartItems.reduce((a, c) => a + c.qty, 0)} items) : ${\" \"}\n          {cartItems.reduce((a, c) => a + c.price * c.qty, 0)}\n        </h3>\n        <button\n          onClick={checkoutHandler}\n          className=\"button primary full-width\"\n          disabled={cartItems.length === 0}\n        >\n          Proceed to Checkout\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default CartScreen;\n","export const USER_SIGNIN_REQUEST = 'USER_SIGNIN_REQUEST';\nexport const USER_SIGNIN_SUCCESS = 'USER_SIGNIN_SUCCESS';\nexport const USER_SIGNIN_FAIL = 'USER_SIGNIN_FAIL';\n\nexport const USER_UPDATE_REQUEST = 'USER_UPDATE_REQUEST';\nexport const USER_UPDATE_SUCCESS = 'USER_UPDATE_SUCCESS';\nexport const USER_UPDATE_FAIL = 'USER_UPDATE_FAIL';\n\nexport const USER_REGISTER_REQUEST = 'USER_REGISTER_REQUEST';\nexport const USER_REGISTER_SUCCESS = 'USER_REGISTER_SUCCESS';\nexport const USER_REGISTER_FAIL = 'USER_REGISTER_FAIL';\n\nexport const USER_LOGOUT = 'USER_LOGOUT';","import Axios from \"axios\";\nimport Cookie from \"js-cookie\";\nimport {\n  USER_SIGNIN_REQUEST,\n  USER_SIGNIN_SUCCESS,\n  USER_SIGNIN_FAIL,\n  USER_REGISTER_REQUEST,\n  USER_REGISTER_SUCCESS,\n  USER_REGISTER_FAIL,\n  USER_LOGOUT,\n  USER_UPDATE_REQUEST,\n  USER_UPDATE_SUCCESS,\n  USER_UPDATE_FAIL,\n} from \"../constants/userConstants\";\n\nconst update = ({ userId, name, email, password, coupon }) => async (\n  dispatch,\n  getState\n) => {\n  const {\n    userSignin: { userInfo },\n  } = getState();\n  dispatch({\n    type: USER_UPDATE_REQUEST,\n    payload: { userId, name, email, password, coupon },\n  });\n  try {\n    const { data } = await Axios.put(\n      \"/api/users/\" + userId,\n      { name, email, password, coupon },\n      {\n        headers: {\n          Authorization: \"Bearer \" + userInfo.token,\n        },\n      }\n    );\n    dispatch({ type: USER_UPDATE_SUCCESS, payload: data });\n    Cookie.set(\"userInfo\", JSON.stringify(data));\n  } catch (error) {\n    dispatch({ type: USER_UPDATE_FAIL, payload: error.message });\n  }\n};\n\nconst setUserCoupon = ({ userId, coupon }) => async (dispatch, getState) => {\n  const {\n    userSignin: { userInfo },\n  } = getState();\n  dispatch({ type: USER_UPDATE_REQUEST, payload: { userId, coupon } });\n  try {\n    const { data } = await Axios.put(\n      \"/api/users/\" + userId,\n      { coupon },\n      {\n        headers: {\n          Authorization: \"Bearer \" + userInfo.token,\n        },\n      }\n    );\n    dispatch({ type: USER_UPDATE_SUCCESS, payload: data });\n    Cookie.set(\"userInfo\", JSON.stringify(data));\n  } catch (error) {\n    dispatch({ type: USER_UPDATE_FAIL, payload: error.message });\n  }\n};\n\nconst signin = (email, password) => async (dispatch) => {\n  dispatch({ type: USER_SIGNIN_REQUEST, payload: { email, password } });\n  try {\n    const { data } = await Axios.post(\"/api/users/signin\", { email, password });\n\n    dispatch({ type: USER_SIGNIN_SUCCESS, payload: data });\n    Cookie.set(\"userInfo\", JSON.stringify(data));\n  } catch (error) {\n    dispatch({ type: USER_SIGNIN_FAIL, payload: error.message });\n  }\n};\n\nconst register = (name, email, password) => async (dispatch) => {\n  dispatch({ type: USER_REGISTER_REQUEST, payload: { name, email, password } });\n  try {\n    const { data } = await Axios.post(\"/api/users/register\", {\n      name,\n      email,\n      password,\n    });\n    dispatch({ type: USER_REGISTER_SUCCESS, payload: data });\n    Cookie.set(\"userInfo\", JSON.stringify(data));\n  } catch (error) {\n    dispatch({ type: USER_REGISTER_FAIL, payload: error.message });\n  }\n};\n\nconst logout = () => (dispatch) => {\n  Cookie.remove(\"userInfo\");\n  dispatch({ type: USER_LOGOUT });\n};\n\nexport { signin, register, logout, update, setUserCoupon };\n","import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { signin } from '../actions/userActions';\n\n\nfunction SigninScreen(props) {\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const userSignin = useSelector(state => state.userSignin);\n  const { loading, userInfo, error } = userSignin;\n  const dispatch = useDispatch();\n  const redirect = props.location.search ? props.location.search.split(\"=\")[1] : '/';\n  useEffect(() => {\n    if (userInfo) {\n      props.history.push(redirect);\n    }\n    return () => {\n      //\n    };\n  }, [userInfo]);\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n    dispatch(signin(email, password));\n\n  }\n  return <div className=\"form\">\n    <form onSubmit={submitHandler} >\n      <ul className=\"form-container\">\n        <li>\n          <h2>Sign-In</h2>\n        </li>\n        <li>\n          {loading && <div>Loading...</div>}\n          {error && <div>{error}</div>}\n        </li>\n        <li>\n          <label htmlFor=\"email\">\n            Email\n          </label>\n          <input type=\"email\" name=\"email\" id=\"email\" onChange={(e) => setEmail(e.target.value)}>\n          </input>\n        </li>\n        <li>\n          <label htmlFor=\"password\">Password</label>\n          <input type=\"password\" id=\"password\" name=\"password\" onChange={(e) => setPassword(e.target.value)}>\n          </input>\n        </li>\n        <li>\n          <button type=\"submit\" className=\"button primary\">Sign In</button>\n        </li>\n        <li>\n          New to Rossville Race Parts?\n        </li>\n        <li>\n          <Link to={redirect === \"/\" ? \"register\" : \"register?redirect=\" + redirect} className=\"button secondary text-center\" >Create your account</Link>\n        </li>\n      </ul>\n    </form>\n\n  </div>\n\n}\nexport default SigninScreen;","import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { register } from '../actions/userActions';\n\nfunction RegisterScreen(props) {\n\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [rePassword, setRePassword] = useState('');\n  const userRegister = useSelector(state => state.userRegister);\n  const { loading, userInfo, error } = userRegister;\n  const dispatch = useDispatch();\n\n  const redirect = props.location.search ? props.location.search.split(\"=\")[1] : '/';\n  useEffect(() => {\n    if (userInfo) {\n      props.history.push(redirect);\n    }\n    return () => {\n      //\n    };\n  }, [userInfo]);\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n    dispatch(register(name, email, password));\n  }\n  return <div className=\"form\">\n    <form onSubmit={submitHandler} >\n      <ul className=\"form-container\">\n        <li>\n          <h2>Create Account</h2>\n        </li>\n        <li>\n          {loading && <div>Loading...</div>}\n          {error && <div>{error}</div>}\n        </li>\n        <li>\n          <label htmlFor=\"name\">\n            Name\n          </label>\n          <input type=\"name\" name=\"name\" id=\"name\" onChange={(e) => setName(e.target.value)} required>\n          </input>\n        </li>\n        <li>\n          <label htmlFor=\"email\">\n            Email\n          </label>\n          <input type=\"email\" name=\"email\" id=\"email\" onChange={(e) => setEmail(e.target.value)}required>\n          </input>\n        </li>\n        <li>\n          <label htmlFor=\"password\">Password</label>\n          <input type=\"password\" id=\"password\" name=\"password\" onChange={(e) => setPassword(e.target.value)}required>\n          </input>\n        </li>\n        <li>\n          <label htmlFor=\"rePassword\">Re-Enter Password</label>\n          <input type=\"password\" id=\"rePassword\" name=\"rePassword\" onChange={(e) => setRePassword(e.target.value)}required>\n          </input>\n        </li>\n        <li>\n          <button type=\"submit\" className=\"button primary\">Register</button>\n        </li>\n        <li>\n          Already have an account?\n          <Link to={redirect === \"/\" ? \"signin\" : \"signin?redirect=\" + redirect} className=\"button secondary text-center\" >Create your  account</Link>\n\n        </li>\n\n      </ul>\n    </form>\n  </div>\n}\nexport default RegisterScreen;","import React, { useEffect, useState, useRef } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport axios from \"axios\";\nimport {\n  saveProduct,\n  listProducts,\n  deleteProdcut,\n} from \"../actions/productActions\";\n\nfunction ProductsScreen(props) {\n  const [modalVisible, setModalVisible] = useState(false);\n  const [id, setId] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [price, setPrice] = useState(\"\");\n  const [image, setImage] = useState(\"\");\n\n  const [brand, setBrand] = useState(\"\");\n  const [category, setCategory] = useState(\"\");\n  const [countInStock, setCountInStock] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [uploading, setUploading] = useState(false);\n  const [images,setImages] = useState([]);\n  const productList = useSelector((state) => state.productList);\n  const { loading, products, error } = productList;\n  const fileInput = useRef();\n\n  const productSave = useSelector((state) => state.productSave);\n  const {\n    loading: loadingSave,\n    success: successSave,\n    error: errorSave,\n  } = productSave;\n\n  const productDelete = useSelector((state) => state.productDelete);\n  const {\n    loading: loadingDelete,\n    success: successDelete,\n    error: errorDelete,\n  } = productDelete;\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    \n    if (successSave) {\n\n      setModalVisible(false);\n    }\n    dispatch(listProducts());\n    return () => {\n      //\n    };\n  }, [successSave, successDelete]);\n\n  const openModal = (product) => {\n    setModalVisible(true);\n    setId(product._id);\n    setName(product.name);\n    setPrice(product.price);\n    setDescription(product.description);\n    setImage(product.image);\n    setBrand(product.brand);\n    setCategory(product.category);\n    setCountInStock(product.countInStock);\n  \n  };\n  const submitHandler = async (e) => {\n   \n    e.preventDefault();\n    dispatch(\n      saveProduct({\n        _id: id,\n        name,\n        price,\n        image,\n        images,\n        brand, \n        category,\n        countInStock,\n        description,\n      })\n    );\n  };\n  const deleteHandler = (product) => {\n    dispatch(deleteProdcut(product._id));\n  };\n  const uploadFileHandler = (e) => {\n   \n    if (e.target.files.length > 1) {\n      console.log(\"Greater than 1\");\n    }\n    if (e.target.files.length === 1) {\n      console.log(\"Just one\");\n    }\n    for (let i = 0; i < e.target.files.length; i++) {\n      // Handles multiple image uploads.\n      const file = e.target.files[i];\n      const bodyFormData = new FormData();\n      bodyFormData.append(\"image\", file);\n\n      setUploading(true);\n      axios\n        .post(\"/api/uploads/s3\", bodyFormData, {\n          headers: {\n            \"Content-Type\": \"multipart/form-data\",\n          },\n        })\n        .then((response) => {\n          // Each time this runs add to image array.\n          // Currently adds to string saved to product.image\n          // Temp store array of images and on product update/create if array is\n          // greater than 1, useDispatch  to update product to images array.\n         \n          images.push(response.data);\n          \n         \n          setImage(response.data);\n\n          \n          setUploading(false);\n         \n        })\n        .catch((err) => {\n          console.log(err);\n          setUploading(false);\n        });\n    }\n  };\n  return (\n    <div className=\"content content-margined\">\n      <div className=\"product-header\">\n        <h3>Products</h3>\n        <button className=\"button primary\" onClick={() => openModal({})}>\n          Create Product\n        </button>\n      </div>\n      {modalVisible && (\n        <div className=\"form\">\n          <form onSubmit={submitHandler}>\n            <ul className=\"form-container\">\n              <li>\n                <h2>Create Product</h2>\n              </li>\n              <li>\n                {loadingSave && <div>Loading...</div>}\n                {errorSave && <div>{errorSave}</div>}\n              </li>\n\n              <li>\n                <label htmlFor=\"name\">Name</label>\n                <input\n                  type=\"text\"\n                  name=\"name\"\n                  value={name}\n                  id=\"name\"\n                  onChange={(e) => setName(e.target.value)}\n                  required\n                ></input>\n              </li>\n              <li>\n                <label htmlFor=\"price\">Price</label>\n                <input\n                  type=\"text\"\n                  name=\"price\"\n                  value={price}\n                  id=\"price\"\n                  onChange={(e) => setPrice(e.target.value)}\n                  required\n                ></input>\n              </li>\n              <li>\n                <label htmlFor=\"image\">Image</label>\n                <input\n                  type=\"text\"\n                  name=\"image\"\n                  value={image}\n                  id=\"image\"\n                  onChange={(e) => setImage(e.target.value)}\n                  required\n                ></input>\n                <input\n                  type=\"file\"\n                  multiple\n                  ref={fileInput}\n                  onChange={uploadFileHandler}\n                ></input>\n                {uploading && <div>Uploading...</div>}\n              </li>\n\n              <li>\n                <label htmlFor=\"countInStock\">CountInStock</label>\n                <input\n                  type=\"text\"\n                  name=\"countInStock\"\n                  value={countInStock}\n                  id=\"countInStock\"\n                  onChange={(e) => setCountInStock(e.target.value)}\n                  required\n                ></input>\n              </li>\n              <li>\n                <label htmlFor=\"name\">Category</label>\n                <input\n                  type=\"text\"\n                  name=\"category\"\n                  value={category}\n                  id=\"category\"\n                  onChange={(e) => setCategory(e.target.value)}\n                  required\n                ></input>\n              </li>\n              <li>\n                <label htmlFor=\"description\">Description</label>\n                <textarea\n                  name=\"description\"\n                  value={description}\n                  id=\"description\"\n                  onChange={(e) => setDescription(e.target.value)}\n                  required\n                ></textarea>\n              </li>\n              <li>\n                <button type=\"submit\" className=\"button primary\">\n                  {id ? \"Update\" : \"Create\"}\n                </button>\n              </li>\n              <li>\n                <button\n                  type=\"button\"\n                  onClick={() => setModalVisible(false)}\n                  className=\"button secondary\"\n                >\n                  Back\n                </button>\n              </li>\n            </ul>\n          </form>\n        </div>\n      )}\n\n      <div className=\"product-list\">\n        <table className=\"table\">\n          <thead>\n            <tr>\n              <th>ID</th>\n              <th>Name</th>\n              <th>Price</th>\n              <th>Category</th>\n\n              <th>Action</th>\n            </tr>\n          </thead>\n          <tbody>\n            {products.map((product) => (\n              <tr key={product._id}>\n                <td>{product._id}</td>\n                <td>{product.name}</td>\n                <td>{product.price}</td>\n                <td>{product.category}</td>\n                <td>{product.brand}</td>\n                <td>\n                  <button className=\"button\" onClick={() => openModal(product)}>\n                    Edit\n                  </button>{\" \"}\n                  <button\n                    className=\"button\"\n                    onClick={() => deleteHandler(product)}\n                  >\n                    Delete\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n}\nexport default ProductsScreen;\n","import React from 'react';\nfunction CheckoutSteps(props) {\n  return <div className=\"checkout-steps\">\n    <div className={props.step1 ? 'active' : ''} >Sign in</div>\n    <div className={props.step2 ? 'active' : ''} >Shipping</div>\n    <div className={props.step3 ? 'active' : ''} >Payment</div>\n    <div className={props.step4 ? 'active' : ''} >Place Order</div>\n  </div>\n}\n\nexport default CheckoutSteps;","import React, { useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { saveShipping } from \"../actions/cartActions\";\nimport CheckoutSteps from \"../components/CheckoutSteps\";\nrequire(\"dotenv\").config();\nconst USPS = require(\"usps-webtools\");\nconst usps = new USPS({\n  server: \"https://production.shippingapis.com/ShippingAPI.dll\",\n  userId: \"973HIXON1037\",\n  ttl: 10000, //TTL in milliseconds for request\n});\n\nfunction ShippingScreen(props) {\n  const [address, setAddress] = useState(\"\");\n  const [city, setCity] = useState(\"\");\n  const [state, setState] = useState(\"\");\n  const [postalCode, setPostalCode] = useState(\"\");\n  const [country, setCountry] = useState(\"\");\n  const [contact, setContact] = useState(\"\");\n  const dispatch = useDispatch();\n\n  let cart = useSelector((state) => state.cart);\n  if (!cart.shipping) {\n    // Inital state.\n    cart.shipping = { adresss: \"\" };\n  }\n  const resetAddress = (e) => {\n    e.preventDefault();\n    setAddress(\"\");\n    setCity(\"\");\n    setState(\"\");\n    setPostalCode(\"\");\n    setCountry(\"\");\n    setContact(\"\");\n    window.location.reload();\n  };\n  const submitHandler = (e) => {\n    e.preventDefault();\n\n    // Cant use without SSL on backend\n    usps.verify(\n      {\n        street1: address,\n        city,\n        state,\n        zip: postalCode,\n      },\n      function (err, verifiedAddress) {\n        if (err) {\n          // Threw an address error\n          document.getElementById(\"error\").innerText = err.message;\n        } else {\n          dispatch(\n            saveShipping({ address, city, state, postalCode, country, contact })\n          );\n          props.history.push(\"payment\");\n        }\n      }\n    );\n  };\n\n  return (\n    <div>\n      <CheckoutSteps step1 step2></CheckoutSteps>\n      <div className=\"form\">\n        <form onSubmit={submitHandler}>\n          <ul className=\"form-container\">\n            {console.log(cart.shipping)}\n            {cart.shipping.address ? (\n              <button onClick={resetAddress}>Edit</button>\n            ) : (\n              \"\"\n            )}\n            <li>\n              <h2>Shipping</h2>\n              <h5 id=\"error\"> </h5>\n            </li>\n\n            <li>\n              <label htmlFor=\"address\">Address</label>\n              <input\n                type=\"text\"\n                name=\"address\"\n                id=\"address\"\n                value={cart.shipping.address ? cart.shipping.address : null}\n                onChange={(e) => setAddress(e.target.value)}\n                required\n              ></input>\n            </li>\n            <li>\n              <label htmlFor=\"city\">City</label>\n              <input\n                type=\"text\"\n                name=\"city\"\n                id=\"city\"\n                value={cart.shipping.city ? cart.shipping.city : null}\n                onChange={(e) => setCity(e.target.value)}\n                required\n              ></input>\n            </li>\n            <li>\n              <label htmlFor=\"state\">State</label>\n              <input\n                type=\"text\"\n                name=\"state\"\n                id=\"state\"\n                value={cart.shipping.city ? cart.shipping.city : null}\n                onChange={(e) => setState(e.target.value)}\n                required\n              ></input>\n            </li>\n            <li>\n              <label htmlFor=\"postalCode\">Postal Code</label>\n              <input\n                type=\"text\"\n                name=\"postalCode\"\n                id=\"postalCode\"\n                value={\n                  cart.shipping.postalCode ? cart.shipping.postalCode : null\n                }\n                onChange={(e) => setPostalCode(e.target.value)}\n                required\n              ></input>\n            </li>\n            <li>\n              <label htmlFor=\"country\">Country</label>\n              <input\n                type=\"text\"\n                name=\"country\"\n                id=\"country\"\n                value={cart.shipping.country ? cart.shipping.country : null}\n                onChange={(e) => setCountry(e.target.value)}\n                required\n              ></input>\n            </li>\n\n            <li>\n              <label htmlFor=\"country\">Email</label>\n              <input\n                type=\"text\"\n                name=\"contact\"\n                id=\"contact\"\n                value={cart.shipping.contact ? cart.shipping.contact : null}\n                onChange={(e) => setContact(e.target.value)}\n                required\n              ></input>\n            </li>\n\n            <li>\n              <button type=\"submit\" className=\"button primary\">\n                Continue\n              </button>\n            </li>\n          </ul>\n        </form>\n      </div>\n    </div>\n  );\n}\nexport default ShippingScreen;\n","import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { savePayment } from '../actions/cartActions';\nimport CheckoutSteps from '../components/CheckoutSteps';\n\nfunction PaymentScreen(props) {\n  const [paymentMethod, setPaymentMethod] = useState('');\n\n  const dispatch = useDispatch();\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n    dispatch(savePayment({ paymentMethod }));\n    props.history.push('placeorder');\n  };\n  return (\n    <div>\n      <CheckoutSteps step1 step2 step3></CheckoutSteps>\n      <div className=\"form\">\n        <form onSubmit={submitHandler}>\n          <ul className=\"form-container\">\n            <li>\n              <h2>Payment</h2>\n            </li>\n\n            <li>\n              <div>\n                <input\n                  type=\"radio\"\n                  name=\"paymentMethod\"\n                  id=\"paymentMethod\"\n                  value=\"Stripe\"\n                  onChange={(e) => setPaymentMethod(e.target.value)}\n                ></input>\n                <label for=\"paymentMethod\">Stripe</label>\n              </div>\n            </li>\n\n            <li>\n              <button type=\"submit\" className=\"button primary\">\n                Continue\n              </button>\n            </li>\n          </ul>\n        </form>\n      </div>\n    </div>\n  );\n}\nexport default PaymentScreen;\n","export const ORDER_CREATE_REQUEST = 'ORDER_CREATE_REQUEST';\nexport const ORDER_CREATE_SUCCESS = 'ORDER_CREATE_SUCCESS';\nexport const ORDER_CREATE_FAIL = 'ORDER_CREATE_FAIL';\n\nexport const ORDER_DETAILS_REQUEST = 'ORDER_DETAILS_REQUEST';\nexport const ORDER_DETAILS_SUCCESS = 'ORDER_DETAILS_SUCCESS';\nexport const ORDER_DETAILS_FAIL = 'ORDER_DETAILS_FAIL';\n\nexport const MY_ORDER_LIST_REQUEST = 'MY_ORDER_LIST_REQUEST';\nexport const MY_ORDER_LIST_SUCCESS = 'MY_ORDER_LIST_SUCCESS';\nexport const MY_ORDER_LIST_FAIL = 'MY_ORDER_LIST_FAIL';\n\nexport const ORDER_LIST_REQUEST = 'ORDER_LIST_REQUEST';\nexport const ORDER_LIST_SUCCESS = 'ORDER_LIST_SUCCESS';\nexport const ORDER_LIST_FAIL = 'ORDER_LIST_FAIL';\n\nexport const ORDER_PAY_REQUEST = 'ORDER_PAY_REQUEST';\nexport const ORDER_PAY_SUCCESS = 'ORDER_PAY_SUCCESS';\nexport const ORDER_PAY_FAIL = 'ORDER_PAY_FAIL';\nexport const ORDER_PAY_RESET = 'ORDER_PAY_RESET';\nexport const ORDER_DELETE_REQUEST = 'ORDER_DELETE_REQUEST';\nexport const ORDER_DELETE_SUCCESS = 'ORDER_DELETE_SUCCESS';\nexport const ORDER_DELETE_FAIL = 'ORDER_DELETE_FAIL';","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport CheckoutSteps from '../components/CheckoutSteps';\nimport { createOrder } from '../actions/orderActions';\nfunction PlaceOrderScreen(props) {\n  const userSignin = useSelector(state => state.userSignin);\n  const { userInfo } = userSignin;\n  const cart = useSelector(state => state.cart);\n  const orderCreate = useSelector(state => state.orderCreate);\n  const { loading, success, error, order } = orderCreate;\n\n  \n  const { cartItems, shipping, payment } = cart;\n\n  \n  if (!shipping.address) {\n    props.history.push(\"/shipping\");\n  } else if (!payment.paymentMethod) {\n    props.history.push(\"/payment\");\n  }\n  const itemsPrice = cartItems.reduce((a, c) => a + c.price * c.qty, 0);\n  // Price over $75 shipping free.\n  const shippingPrice = itemsPrice > 75 ? 8.80 : 0;\n  let discount = null;\n  const taxPrice = 0.04 * itemsPrice;\n  let totalPrice = itemsPrice  + shippingPrice + taxPrice;\n  \n  if(userInfo.coupon)\n  {\n    // Sets discount coupon if there is one.\n    discount = parseInt(userInfo.coupon,10);\n    const discountTotalPrice =  totalPrice - (totalPrice * discount / 100);\n    totalPrice = discountTotalPrice;\n\n  }\n  const dispatch = useDispatch();\n\n  const placeOrderHandler = () => {\n    // create an order\n   \n    dispatch(createOrder({\n      orderItems: cartItems, shipping, payment, itemsPrice, shippingPrice,\n      taxPrice, totalPrice\n    }));\n  }\n  useEffect(() => {\n    if (success) {\n      props.history.push(\"/order/\" + order._id);\n    }\n\n  }, [success]);\n\n  return <div>\n    <CheckoutSteps step1 step2 step3 step4 ></CheckoutSteps>\n    <div className=\"placeorder\">\n      <div className=\"placeorder-info\">\n        <div>\n          <h3>\n            Shipping\n          </h3>\n          <div>\n            {cart.shipping.contact}, {cart.shipping.address}, {cart.shipping.city}, {cart.shipping.state}, \n          {cart.shipping.postalCode}, {cart.shipping.country}.\n          </div>\n        </div>\n        <div>\n          <h3>Payment</h3>\n          <div>\n            Payment Method: {cart.payment.paymentMethod}\n          </div>\n        </div>\n        <div>\n          <ul className=\"cart-list-container\">\n            <li>\n              <h3>\n                Shopping Cart\n          </h3>\n              <div>\n                Price\n          </div>\n            </li>\n            {\n              cartItems.length === 0 ?\n                <div>\n                  Cart is empty\n          </div>\n                :\n                cartItems.map(item =>\n                  <li>\n                    <div className=\"cart-image\">\n                      <img src={item.image} alt=\"product\" />\n                    </div>\n                    <div className=\"cart-name\">\n                      <div>\n                        <Link to={\"/product/\" + item.product}>\n                          {item.name}\n                        </Link>\n\n                      </div>\n                      <div>\n                        Qty: {item.qty}\n                      </div>\n                    </div>\n                    <div className=\"cart-price\">\n                      ${item.price}\n                    </div>\n                  </li>\n                )\n            }\n          </ul>\n        </div>\n\n      \n      </div>\n      <div className=\"placeorder-action\">\n        <ul>\n          <li>\n            <button className=\"button primary full-width\" onClick={placeOrderHandler} >Place Order</button>\n          </li>\n          <li>\n            <h3>Order Summary</h3>\n          </li>\n          <li>\n            <div>Items</div>\n            <div>${itemsPrice}</div>\n          </li>\n          \n          {discount > 0 ?<li> <div>Discount</div>\n          <div>{userInfo.coupon}%</div> </li>: null}\n\n          <li>\n            <div>Shipping</div>\n            {shippingPrice === 0 ? <div>Free</div>:<div>${shippingPrice}</div>}\n          </li>\n          <li>\n            <div>Tax</div>\n            <div>${taxPrice}</div>\n          </li>\n          <li>\n            <div>Order Total</div>\n            <div>${totalPrice}</div>\n          </li>\n        </ul>\n\n\n\n      </div>\n\n    </div>\n  </div>\n\n}\n\nexport default PlaceOrderScreen;","import Axios from \"axios\";\nimport {\n  ORDER_CREATE_REQUEST, ORDER_CREATE_SUCCESS, ORDER_CREATE_FAIL,\n  ORDER_DETAILS_REQUEST, ORDER_DETAILS_SUCCESS, ORDER_DETAILS_FAIL, ORDER_PAY_REQUEST, ORDER_PAY_SUCCESS, ORDER_PAY_FAIL, MY_ORDER_LIST_REQUEST, MY_ORDER_LIST_SUCCESS, MY_ORDER_LIST_FAIL, ORDER_DELETE_REQUEST, ORDER_DELETE_SUCCESS, ORDER_DELETE_FAIL, ORDER_LIST_REQUEST, ORDER_LIST_SUCCESS, ORDER_LIST_FAIL\n} from \"../constants/orderConstants\";\n\nconst createOrder = (order) => async (dispatch, getState) => {\n  try {\n    dispatch({ type: ORDER_CREATE_REQUEST, payload: order });\n    const { userSignin: { userInfo } } = getState();\n    const { data: { data: newOrder } } = await Axios.post(\"/api/orders\", order, {\n      headers: {\n        Authorization: ' Bearer ' + userInfo.token\n      }\n    });\n    dispatch({ type: ORDER_CREATE_SUCCESS, payload: newOrder });\n  } catch (error) {\n    dispatch({ type: ORDER_CREATE_FAIL, payload: error.message });\n  }\n}\n\nconst listMyOrders = () => async (dispatch, getState) => {\n  try {\n    dispatch({ type: MY_ORDER_LIST_REQUEST });\n    const { userSignin: { userInfo } } = getState();\n    const { data } = await Axios.get(\"/api/orders/mine\", {\n      headers:\n        { Authorization: 'Bearer ' + userInfo.token }\n    });\n    dispatch({ type: MY_ORDER_LIST_SUCCESS, payload: data })\n  } catch (error) {\n    dispatch({ type: MY_ORDER_LIST_FAIL, payload: error.message });\n  }\n}\n\nconst listOrders = () => async (dispatch, getState) => {\n\n  try {\n    dispatch({ type: ORDER_LIST_REQUEST });\n    const { userSignin: { userInfo } } = getState();\n    const { data } = await Axios.get(\"/api/orders\", {\n      headers:\n        { Authorization: 'Bearer ' + userInfo.token }\n    });\n    dispatch({ type: ORDER_LIST_SUCCESS, payload: data })\n  } catch (error) {\n    dispatch({ type: ORDER_LIST_FAIL, payload: error.message });\n  }\n}\n\nconst detailsOrder = (orderId) => async (dispatch, getState) => {\n  try {\n    dispatch({ type: ORDER_DETAILS_REQUEST, payload: orderId });\n    const { userSignin: { userInfo } } = getState();\n    const { data } = await Axios.get(\"/api/orders/\" + orderId, {\n      headers:\n        { Authorization: 'Bearer ' + userInfo.token }\n    });\n    dispatch({ type: ORDER_DETAILS_SUCCESS, payload: data })\n  } catch (error) {\n    dispatch({ type: ORDER_DETAILS_FAIL, payload: error.message });\n  }\n}\n\nconst payOrder = (order, paymentResult) => async (dispatch, getState) => {\n  try {\n    dispatch({ type: ORDER_PAY_REQUEST, payload: paymentResult });\n    const { userSignin: { userInfo } } = getState();\n  \n    const { data } = await Axios.put(\"/api/orders/\" + order._id + \"/pay\", paymentResult, {\n      headers:\n        { Authorization: 'Bearer ' + userInfo.token }\n    });\n  \n    dispatch({ type: ORDER_PAY_SUCCESS, payload: data })\n  } catch (error) {\n    dispatch({ type: ORDER_PAY_FAIL, payload: error.message });\n  }\n}\n\nconst deleteOrder = (orderId) => async (dispatch, getState) => {\n  try {\n    dispatch({ type: ORDER_DELETE_REQUEST, payload: orderId });\n    const { userSignin: { userInfo } } = getState();\n    const { data } = await Axios.delete(\"/api/orders/\" + orderId, {\n      headers:\n        { Authorization: 'Bearer ' + userInfo.token }\n    });\n    dispatch({ type: ORDER_DELETE_SUCCESS, payload: data })\n  } catch (error) {\n    dispatch({ type: ORDER_DELETE_FAIL, payload: error.message });\n  }\n}\nexport { createOrder, detailsOrder, payOrder, listMyOrders, listOrders, deleteOrder };","import React,{history} from 'react';\nimport { logout, update } from \"../actions/userActions\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\nfunction Logout(props) {\n  const dispatch = useDispatch();\n  const handleLogout = () => {\n    dispatch(logout());\n    props.history.push('/');\n  };\n  handleLogout();\n  return (\n   <div>\n\n   </div>\n  )\n}\nexport default Logout;\n","import React, { useState, useEffect } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport axios from \"axios\";\nfunction PaypalButton(props) {\n\n  const source = axios.CancelToken.source();\n  const [sdkReady, setSdkReady] = useState(false);\n\n  const addPaypalSdk = async () => {\n\n    const result = await axios.get(\"/api/config/paypal\",\n    {   cancelToken: source.token });\n    const clientID = result.data;\n    const script = document.createElement(\"script\");\n    script.type = \"text/javascript\";\n    script.src = \"https://www.paypal.com/sdk/js?client-id=\" + clientID;\n    script.async = true;\n    script.onload = () => {\n      setSdkReady(true);\n    };\n    document.body.appendChild(script);\n  };\n\n  const createOrder = (data, actions) =>\n    actions.order.create({\n      purchase_units: [\n        {\n          amount: {\n            currency_code: \"USD\",\n            value: props.amount,\n          },\n        },\n      ],\n    });\n\n  const onApprove = (data, actions) =>\n    actions.order\n      .capture()\n      .then((details) => props.onSuccess(data, details))\n      .catch((err) => console.log(err));\n\n  useEffect(() => {\n    if (!window.paypal) {\n      addPaypalSdk();\n    }\n    return () => {\n      source.cancel(\"Component got unmounted\");\n\n    };\n  }, []);\n    // This motherfucker right here needs to cancel async calls\n  if (!sdkReady) {\n    \n    return <div>Loading</div>;\n    \n  }\n\n  const Button = window.paypal.Buttons.driver(\"react\", { React, ReactDOM });\n\n  return (\n    <Button\n      {...props}\n      createOrder={(data, actions) => createOrder(data, actions)}\n      onApprove={(data, actions) => onApprove(data, actions)}\n    />\n  );\n}\n\nexport default PaypalButton;\n","import React, { useEffect, useReducer, useState } from \"react\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport \"./normalize.css\";\nimport \"./global.css\";\n\nlet priceID;\n\n// Set price based on Cart.\nconst fetchPriceID = async (totalPrice) => {\n  const response = await fetch(\"/api/orders/price\", {\n    method: \"POST\",\n    headers: {\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      unitAmount: totalPrice,\n      currency: \"usd\",\n      product: \"prod_IhKIHr0C4sggTP\",\n    }),\n  });\n  return response.json();\n};\n// fetchPriceID().then((data) => console.log(data.id));\n\nconst formatPrice = ({ amount, currency, quantity }) => {\n  const numberFormat = new Intl.NumberFormat(\"en-US\", {\n    style: \"currency\",\n    currency,\n    currencyDisplay: \"symbol\",\n  });\n  const parts = numberFormat.formatToParts(amount);\n  let zeroDecimalCurrency = true;\n  for (let part of parts) {\n    if (part.type === \"decimal\") {\n      zeroDecimalCurrency = false;\n    }\n  }\n  amount = zeroDecimalCurrency ? amount : amount / 100;\n  const total = (quantity * amount).toFixed(2);\n\n  return numberFormat.format(total);\n};\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case \"useEffectUpdate\":\n      return {\n        ...state,\n        ...action.payload,\n        price: formatPrice({\n          amount: action.payload.unitAmount,\n          currency: action.payload.currency,\n          quantity: state.quantity,\n        }),\n      };\n    case \"increment\":\n      return {\n        ...state,\n        quantity: state.quantity + 1,\n        price: formatPrice({\n          amount: state.unitAmount,\n          currency: state.currency,\n          quantity: state.quantity + 1,\n        }),\n      };\n    case \"decrement\":\n      return {\n        ...state,\n        quantity: state.quantity - 1,\n        price: formatPrice({\n          amount: state.unitAmount,\n          currency: state.currency,\n          quantity: state.quantity - 1,\n        }),\n      };\n    case \"setLoading\":\n      return { ...state, loading: action.payload.loading };\n    case \"setError\":\n      return { ...state, error: action.payload.error };\n    default:\n      throw new Error();\n  }\n}\n\nconst StripeCheckout = () => {\n  // Redux.\n  const orderDetails = useSelector((state) => state.orderDetails);\n  const { loading, order, error } = orderDetails;\n  const cart = useSelector((state) => state.cart);\n  const userSignin = useSelector((state) => state.userSignin);\n  const { userInfo } = userSignin;\n  const { cartItems, shipping, payment } = cart;\n\n  const priceFixed = order.totalPrice * 100;\n\n  fetchPriceID(priceFixed);\n\n  let items = [];\n  const getPriceID = async (productID, price, qty) => {\n    const taxRate = price * 4;\n    const priceCents = price * 100;\n    let discount;\n    let priceIncluded = priceCents + taxRate;\n    let totalPrice;\n\n    if (userInfo.coupon) {\n      // Sets discount coupon if there is one.\n      discount = parseInt(userInfo.coupon, 10);\n      const discountTotalPrice =\n        priceIncluded - (priceIncluded * discount) / 100;\n      totalPrice = discountTotalPrice;\n    }\n\n    let priceCheck = price.toString();\n    if (priceCheck.includes(\".\")) {\n      price = parseInt(price.toString().replace(\".\", \"\"), 10);\n      // Hit decimal API route.\n\n      const ID = await fetch(\"/api/orders/price/decimal\", {\n        method: \"POST\",\n        headers: {\n          \"content-type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          unitAmount: totalPrice.toFixed(),\n          currency: \"usd\",\n          product: productID,\n        }),\n      })\n        .then((res) => res.json())\n        .then((data) => items.push({ price: data.id, quantity: qty }));\n    }\n    if (!priceCheck.includes(\".\")) {\n      const ID = await fetch(\"/api/orders/price\", {\n        method: \"POST\",\n        headers: {\n          \"content-type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          unitAmount: totalPrice,\n          currency: \"usd\",\n          product: productID,\n        }),\n      })\n        .then((res) => res.json())\n        .then((data) => items.push({ price: data.id, quantity: qty }));\n    }\n  };\n\n  useEffect(() => {\n    cartItems.forEach((item) => getPriceID(item.product, item.price, item.qty));\n    console.log(\"Getting prices, once\");\n  }, []);\n  // cartItems.forEach((item) => getPriceID(item.product, item.price, item.qty));\n\n  const { _id } = orderDetails.order;\n\n  const fetchCheckoutSession = async ({ quantity }) => {\n    return fetch(\"/api/orders/create-checkout-session\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        quantity,\n        email: cart.shipping.contact,\n        items: items,\n        orderID: _id,\n        userToken: userInfo.token,\n        coupon: userInfo.coupon || \"\",\n      }),\n    }).then((res) => res.json());\n  };\n\n  const [state, dispatch] = useReducer(reducer, {\n    quantity: 1,\n    price: priceFixed,\n    loading: false,\n    error: null,\n    stripe: null,\n  });\n\n  useEffect(() => {\n    async function fetchConfig() {\n      // Fetch config from our backend.\n      const { publicKey, unitAmount, currency } = await fetch(\n        \"/api/orders/config\"\n      ).then((res) => res.json());\n\n      // Make sure to call `loadStripe` outside of a components render to avoid\n      // recreating the `Stripe` object on every render.\n\n      dispatch({\n        type: \"useEffectUpdate\",\n        payload: { unitAmount, currency, stripe: await loadStripe(publicKey) },\n      });\n    }\n\n    fetchConfig();\n\n    console.log(\"useEffect\");\n  }, []);\n\n  const handleClick = async (event) => {\n    // Call your backend to create the Checkout session.\n    dispatch({ type: \"setLoading\", payload: { loading: true } });\n    const { sessionId } = await fetchCheckoutSession({\n      quantity: state.quantity,\n    });\n\n    // When the customer clicks on the button, redirect them to Checkout.\n    const { error } = await state.stripe.redirectToCheckout({\n      sessionId,\n    });\n    // If `redirectToCheckout` fails due to a browser or network\n    // error, display the localized error message to your customer\n    // using `error.message`.\n    if (error) {\n      dispatch({ type: \"setError\", payload: { error } });\n      dispatch({ type: \"setLoading\", payload: { loading: false } });\n    }\n  };\n\n  return (\n    <div className=\"sr-root\">\n      <div className=\"sr-main\">\n        {/* <header className=\"sr-header\">\n          <div className=\"sr-header__logo\"></div>\n        </header> */}\n        <section className=\"container\">\n          {}\n\n          <button\n            role=\"link\"\n            onClick={handleClick}\n            disabled={!state.stripe || state.loading}\n          >\n            {state.loading || !state.price\n              ? `Loading...`\n              : `Buy for $${order.totalPrice}`}\n          </button>\n          <div className=\"sr-field-error\">{state.error?.message}</div>\n        </section>\n      </div>\n    </div>\n  );\n};\n\nexport default StripeCheckout;\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { createOrder, detailsOrder, payOrder } from '../actions/orderActions';\nimport PaypalButton from '../components/PaypalButton';\nimport StripeCheckout from '../components/StripeCheckout';\n\nfunction OrderScreen(props) {\n  const userSignin = useSelector(state => state.userSignin);\n  const { userInfo } = userSignin;\n  \n  let discount = null;\n  \n  if(userInfo.coupon)\n  {\n    // Sets discount coupon if there is one.\n    discount = userInfo.coupon;\n    \n\n  }\n\n  const cart = useSelector(state => state.cart);\n\n  const { cartItems, shipping, payment } = cart;\n\n  const orderPay = useSelector(state => state.orderPay);\n  const { loading: loadingPay, success: successPay, error: errorPay } = orderPay;\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (successPay) {\n      props.history.push(\"/success\");\n    } else {\n      dispatch(detailsOrder(props.match.params.id));\n    }\n    return () => {\n    };\n \n  }, [successPay]);\n \n  const handleSuccessPayment = (paymentResult) => {\n    console.log(order,paymentResult);\n    dispatch(payOrder(order, paymentResult));\n  }\n\n  const orderDetails = useSelector(state => state.orderDetails);\n  const { loading, order, error } = orderDetails;\n\n  return loading ? <div>Loading ...</div> : error ? <div>{error}</div> :\n\n    <div>\n      <div className=\"placeorder\">\n        <div className=\"placeorder-info\">\n          <div>\n            <h3>\n              Shipping\n          </h3>\n            <div>\n               {cart.shipping.contact} , {order.shipping.address}, {order.shipping.city},\n           {order.shipping.postalCode}, {order.shipping.country},\n          </div>\n            <div>\n              {order.isDelivered ? \"Delivered at \" + order.deliveredAt : \"Not Delivered.\"}\n            </div>\n          </div>\n          <div>\n            <h3>Payment</h3>\n            <div>\n              Payment Method: {order.payment.paymentMethod}\n            </div>\n            <div>\n              {order.isPaid ? \"Paid at \" + order.paidAt : \"Not Paid.\"}\n            </div>\n          </div>\n          <div>\n            <ul className=\"cart-list-container\">\n              <li>\n                <h3>\n                  Shopping Cart\n          </h3>\n                <div>\n                  Price\n          </div>\n              </li>\n              {\n                order.orderItems.length === 0 ?\n                  <div>\n                    Cart is empty\n          </div>\n                  :\n                  order.orderItems.map(item =>\n                    <li key={item._id}>\n                      <div className=\"cart-image\">\n                        <img src={item.image} alt=\"product\" />\n                      </div>\n                      <div className=\"cart-name\">\n                        <div>\n                          <Link to={\"/product/\" + item.product}>\n                            {item.name}\n                          </Link>\n\n                        </div>\n                        <div>\n                          Qty: {item.qty}\n                        </div>\n                      </div>\n                      <div className=\"cart-price\">\n                        ${item.price}\n                      </div>\n                    </li>\n                  )\n              }\n            </ul>\n          </div>\n\n\n        </div>\n        <div className=\"placeorder-action\">\n          <ul>\n            <li className=\"placeorder-actions-payment\">\n              {loadingPay && <div>Finishing Payment...</div>}\n              {/* {!order.isPaid &&\n                <PaypalButton\n                  amount={order.totalPrice}\n                  onSuccess={handleSuccessPayment} />} */}\n                <StripeCheckout/>\n               \n              \n            </li>\n            <li>\n              <h3>Order Summary</h3>\n            </li>\n            <li>\n              <div>Items</div>\n              <div>${order.itemsPrice}</div>\n            </li>\n            {discount > 0 ?<li> <div>Discount</div>\n          <div>{userInfo.coupon}%</div> </li>: null}\n            <li>\n              <div>Shipping</div>\n              <div>${order.shippingPrice}</div>\n            </li>\n            <li>\n              <div>Tax</div>\n              <div>${order.taxPrice}</div>\n            </li>\n            <li>\n              <div>Order Total</div>\n              <div>${order.totalPrice}</div>\n            </li>\n          </ul>\n\n\n\n        </div>\n\n      </div>\n   \n    </div>\n\n}\n\nexport default OrderScreen;","import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { logout, update } from \"../actions/userActions\";\nimport { listMyOrders } from \"../actions/orderActions\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport moment from \"moment\";\nfunction ProfileScreen(props) {\n  const [name, setName] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const dispatch = useDispatch();\n\n  const userSignin = useSelector((state) => state.userSignin);\n  const { userInfo } = userSignin;\n  console.log(userInfo);\n  const handleLogout = () => {\n    dispatch(logout());\n    props.history.push(\"/signin\");\n  };\n  const submitHandler = (e) => {\n    e.preventDefault();\n    dispatch(update({ userId: userInfo._id, email, name, password }));\n  };\n  const userUpdate = useSelector((state) => state.userUpdate);\n  const { loading, success, error } = userUpdate;\n\n  const myOrderList = useSelector((state) => state.myOrderList);\n  const { loading: loadingOrders, orders, error: errorOrders } = myOrderList;\n  useEffect(() => {\n    if (userInfo) {\n      console.log(userInfo.name);\n      setEmail(userInfo.email);\n      setName(userInfo.name);\n      setPassword(userInfo.password);\n    }\n    dispatch(listMyOrders());\n    return () => {};\n  }, [userInfo]);\n\n  return (\n    <div className=\"profile\">\n      <div className=\"profile-info\">\n        <div className=\"form\">\n          <form onSubmit={submitHandler}>\n            <ul className=\"form-container\">\n              <li>\n                <h2>User Profile</h2>\n              </li>\n              <li>\n                {loading && <div>Loading...</div>}\n                {error && <div>{error}</div>}\n                {success && <div>Profile Saved Successfully.</div>}\n              </li>\n              <li>\n                <label htmlFor=\"name\">Name</label>\n                <input\n                  value={name}\n                  type=\"name\"\n                  name=\"name\"\n                  id=\"name\"\n                  onChange={(e) => setName(e.target.value)}\n                ></input>\n              </li>\n              <li>\n                <label htmlFor=\"email\">Email</label>\n                <input\n                  value={email}\n                  type=\"email\"\n                  name=\"email\"\n                  id=\"email\"\n                  onChange={(e) => setEmail(e.target.value)}\n                ></input>\n              </li>\n              <li>\n                <label htmlFor=\"password\">Password</label>\n                <input\n                  value={password}\n                  type=\"password\"\n                  id=\"password\"\n                  name=\"password\"\n                  onChange={(e) => setPassword(e.target.value)}\n                ></input>\n              </li>\n\n              <li>\n                <button type=\"submit\" className=\"button primary\">\n                  Update\n                </button>\n              </li>\n              <li>\n                <button\n                  type=\"button\"\n                  onClick={handleLogout}\n                  className=\"button secondary full-width\"\n                >\n                  Logout\n                </button>\n              </li>\n            </ul>\n          </form>\n        </div>\n      </div>\n\n      <div className=\"profile-orders content-margined\">\n        <h1>Previous Orders</h1>\n        {loadingOrders ? (\n          <div>Loading...</div>\n        ) : errorOrders ? (\n          <div>{errorOrders} </div>\n        ) : (\n          <table className=\"table\">\n            <thead>\n              <tr>\n                <th>ID</th>\n                <th>DATE</th>\n                <th>TOTAL</th>\n                <th>PAID</th>\n                <th>ACTIONS</th>\n              </tr>\n            </thead>\n            <tbody>\n              {orders.map((order) => (\n                <tr key={order._id}>\n                  <td>{order._id}</td>\n                  <td>\n                    {moment\n                      .utc(order.createdAt)\n                      .local()\n                      .format(\"MM-DD-YYYY h:mm A\")}\n                  </td>\n                  <td>{order.totalPrice}</td>\n                  <td>{order.isPaid}</td>\n                  <td>\n                    <Link to={\"/order/\" + order._id}>DETAILS</Link>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default ProfileScreen;\n","import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { listOrders, deleteOrder } from '../actions/orderActions';\nimport moment from 'moment';\nfunction OrdersScreen(props) {\n  const orderList = useSelector(state => state.orderList);\n  const { loading, orders, error } = orderList;\n\n  const orderDelete = useSelector(state => state.orderDelete);\n  const { loading: loadingDelete, success: successDelete, error: errorDelete } = orderDelete;\n\n  const dispatch = useDispatch();\n  \n\n  \n  useEffect(() => {\n\n    \n    dispatch(listOrders());\n    return () => {\n      //\n    };\n  }, [successDelete]);\n\n  const deleteHandler = (order) => {\n    dispatch(deleteOrder(order._id));\n  }\n  return loading ? <div>Loading...</div> :\n    <div className=\"content content-margined\">\n\n      <div className=\"order-header\">\n        <h3>Orders</h3>\n      </div>\n      <div className=\"order-list\">\n\n        <table className=\"table\">\n          <thead>\n            <tr>\n              <th>DATE</th>\n              <th>NAME</th>\n              <th>ID</th>\n              <th>PAID</th>\n              <th>DELIVERED</th>\n              <th>DELIVERED AT</th>\n              <th>ACTIONS</th>\n            </tr>\n          </thead>\n          <tbody>\n            {orders.map(order => (<tr key={order._id}>\n              <td>{moment.utc(order.createdAt).local().format('MM-DD-YYYY h:mm A') }</td>\n              <td>{order.user.name}</td>\n              <td>{order._id}</td>\n              <td>{order.isPaid.toString()}</td>\n              <td>{order.isDelivered.toString()}</td>\n              <td>{order.deliveredAt}</td>\n              <>\n                <Link to={\"/order/\" + order._id}  className=\"button secondary\" \n                style={{backgroundColor:'#ed5f74',\n                color:'white',borderRadius:'6px',\n                border:'0',padding:'12px 16px',fontWeight:'600',\n                cursor:'pointer',transition:'all 0.2s ease',\n                display:'block',width:'50% /2',}}>Details</Link>\n                {' '}\n                <button type=\"button\" onClick={() => deleteHandler(order)} className=\"button secondary\">Delete</button>\n              </>\n            </tr>))}\n          </tbody>\n        </table>\n\n      </div>\n    </div>\n}\nexport default OrdersScreen;","import React, { useEffect, useState } from \"react\";\nimport Axios from \"axios\";\nimport { setUserCoupon } from \"../actions/userActions\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\nfunction UsersScreen() {\n  const [modalVisible, setModalVisible] = useState(false);\n  const userSignin = useSelector((state) => state.userSignin);\n  const { userInfo } = userSignin;\n  const [coupon, setCoupon] = useState(\"\");\n  const [users, setUsers] = useState([]);\n  const [editUser, setEditUser] = useState(\"\");\n\n  const dispatch = useDispatch();\n  useEffect(() => {\n    const fetchData = async () => {\n      const result = await Axios.get(\"/api/users/list\");\n\n      setUsers(result.data.users);\n    };\n    fetchData();\n  }, []);\n\n  const handleEdit = (user) => {\n    // Pop model, change coupon, push.\n    document.designMode = \"on\";\n    setModalVisible(true);\n    setEditUser(user._id);\n    console.log(user._id);\n  };\n  const submitHandler = (e) => {\n    e.preventDefault();\n    console.log(userInfo);\n    dispatch(setUserCoupon({ userId: editUser, coupon }));\n\n    setModalVisible(false);\n    window.location.reload();\n  };\n  // users.map(user => console.log(user.isAdmin));\n  return (\n    <div>\n      {userInfo.isAdmin ? null : <Redirect to=\"/\" />}\n      <h1>Users and a way to modify them.</h1>\n\n      <table className=\"table\">\n        <thead>\n          <tr>\n            <th>Name</th>\n            <th>Email</th>\n            <th>Admin</th>\n            <th>Coupon</th>\n          </tr>\n        </thead>\n        <tbody>\n          {users.map((user) => (\n            <tr key={user._id}>\n              <td>{user.name}</td>\n              <td>{user.email}</td>\n              <td>{user.isAdmin ? \"Yes\" : \"No\"}</td>\n              {user.coupon ? (\n                <>\n                  {\" \"}\n                  <td>{user.coupon} </td>{\" \"}\n                  <button onClick={(e) => handleEdit(user)}>Edit</button>\n                </>\n              ) : (\n                <>\n                  Add\n                  <td>\n                    <button onClick={(e) => handleEdit(user)}>Edit</button>\n                  </td>\n                </>\n              )}\n            </tr>\n          ))}\n        </tbody>\n      </table>\n      {modalVisible && (\n        <div className=\"form\">\n          <form onSubmit={submitHandler}>\n            <ul className=\"form-container\">\n              <li>\n                <h2>Edit Coupon</h2>\n              </li>\n\n              <li>\n                <label htmlFor=\"coupon\">Coupon</label>\n                <input\n                  type=\"text\"\n                  name=\"coupon\"\n                  value={coupon}\n                  id=\"name\"\n                  onChange={(e) => setCoupon(e.target.value)}\n                  required\n                ></input>\n              </li>\n              <li>\n                <button type=\"submit\" className=\"button primary\">\n                  Update\n                </button>\n              </li>\n              <li>\n                <button\n                  type=\"button\"\n                  onClick={() => setModalVisible(false)}\n                  className=\"button secondary\"\n                >\n                  Back\n                </button>\n              </li>\n            </ul>\n          </form>\n        </div>\n      )}\n    </div>\n  );\n}\nexport default UsersScreen;\n","import React from 'react'\n// import StripeButton from '../components/StripeButton'\nimport StripeCheckout from '../components/StripeCheckout';\nexport default function StripeScreen() {\n    return (\n        <div>\n            <h1>Uh?</h1>\n            <StripeCheckout/>\n        </div>\n    )\n}\n","export default __webpack_public_path__ + \"static/media/header.87b2a658.jpg\";","import React, { useEffect, useState } from \"react\";\nimport { BrowserRouter, Route, Link } from \"react-router-dom\";\nimport \"./App.css\";\nimport SuccessScreen from \"./screens/SuccessScreen\";\nimport HomeScreen from \"./screens/HomeScreen\";\nimport ProductScreen from \"./screens/ProductScreen\";\nimport CartScreen from \"./screens/CartScreen\";\nimport SigninScreen from \"./screens/SigninScreen\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport RegisterScreen from \"./screens/RegisterScreen\";\nimport ProductsScreen from \"./screens/ProductsScreen\";\nimport ShippingScreen from \"./screens/ShippingScreen\";\nimport PaymentScreen from \"./screens/PaymentScreen\";\nimport PlaceOrderScreen from \"./screens/PlaceOrderScreen\";\nimport Logout from \"./screens/Logout\";\nimport OrderScreen from \"./screens/OrderScreen\";\nimport ProfileScreen from \"./screens/ProfileScreen\";\nimport OrdersScreen from \"./screens/OrdersScreen\";\nimport UsersScreen from \"./screens/UsersScreen\";\nimport StripeScreen from \"./screens/StripeScreen\";\nimport { logout } from \"../../frontend/src/actions/userActions\";\nimport header from \"./img/header.jpg\";\n\nfunction App() {\n  const userSignin = useSelector((state) => state.userSignin);\n  const { userInfo } = userSignin;\n  const [productCategories, setCategories] = useState([]);\n\n  const getProductCategories = async () => {\n    const response = fetch(\"/api/products\")\n      .then((res) => res.json())\n      .then((data) => setCategories(data));\n  };\n  useEffect(() => {\n    getProductCategories();\n  }, []);\n\n  const openMenu = () => {\n    document.querySelector(\".sidebar\").classList.add(\"open\");\n  };\n  const closeMenu = () => {\n    document.querySelector(\".sidebar\").classList.remove(\"open\");\n  };\n  return (\n    <BrowserRouter>\n      <div className=\"logo-class\">\n        <Link to=\"/\">\n          {\" \"}\n          <img src={header} alt=\"\"></img>\n        </Link>\n      </div>\n      <div className=\"grid-container\">\n        <header className=\"header\">\n          <div className=\"brand\">\n            {/* <button onClick={openMenu}>&#9776;</button> */}\n          </div>\n          <div className=\"header-links\">\n            <a href=\"/cart\">Cart</a>\n            {userInfo ? (\n              <div className=\"dropdown\">\n                <Link to=\"/profile\">{userInfo.name}</Link>\n                <ul className=\"dropdown-content\">\n                  <li>\n                    <Link to=\"/Profile\">Profile</Link>\n                    <Link to=\"/logout\">Logout</Link>\n                  </li>\n                </ul>\n              </div>\n            ) : (\n              <Link to=\"/signin\">Sign In</Link>\n            )}\n            {userInfo && userInfo.isAdmin && (\n              <div className=\"dropdown\">\n                <a href=\"#\">Admin</a>\n                <ul className=\"dropdown-content\">\n                  <li>\n                    <Link to=\"/orders\">Orders</Link>\n                    <Link to=\"/products\">Products</Link>\n                    <Link to=\"/users\">Users</Link>\n                  </li>\n                </ul>\n              </div>\n            )}\n          </div>\n        </header>\n        <aside className=\"sidebar\">\n          <h3>Shopping Categories</h3>\n          <button className=\"sidebar-close-button\" onClick={closeMenu}>\n            x\n          </button>\n          <ul className=\"categories\">\n            <li>\n              <Link to=\"/category/Testing\">Parts</Link>\n            </li>\n\n            <li>\n              <Link to=\"/category/Description\">Other</Link>\n            </li>\n          </ul>\n        </aside>\n        <main className=\"main\">\n          <div className=\"content\">\n            <Route path=\"/stripe\" component={StripeScreen} />\n            <Route path=\"/users\" component={UsersScreen} />\n            <Route path=\"/success\" component={SuccessScreen} />\n            <Route path=\"/orders\" component={OrdersScreen} />\n            <Route path=\"/profile\" component={ProfileScreen} />\n            <Route path=\"/order/:id\" component={OrderScreen} />\n            <Route path=\"/products\" component={ProductsScreen} />\n            <Route path=\"/shipping\" component={ShippingScreen} />\n            <Route path=\"/payment\" component={PaymentScreen} />\n            <Route path=\"/placeorder\" component={PlaceOrderScreen} />\n            <Route path=\"/signin\" component={SigninScreen} />\n            <Route path=\"/register\" component={RegisterScreen} />\n            <Route path=\"/product/:id\" component={ProductScreen} />\n            <Route path=\"/cart/:id?\" component={CartScreen} />\n            <Route path=\"/category/:id\" component={HomeScreen} />\n            <Route path=\"/logout\" component={Logout} />\n            <Route path=\"/\" exact={true} component={HomeScreen} />\n          </div>\n        </main>\n\n        <footer className=\"footer\">All Rights Reserved.</footer>\n      </div>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport Cookie from 'js-cookie';\nimport {\n  productListReducer,\n  productDetailsReducer,\n  productSaveReducer,\n  productDeleteReducer,\n  productReviewSaveReducer,\n} from './reducers/productReducers';\nimport { cartReducer } from './reducers/cartReducers';\nimport {\n  userSigninReducer,\n  userRegisterReducer,\n  userUpdateReducer,\n} from './reducers/userReducers';\nimport {\n  orderCreateReducer,\n  orderDetailsReducer,\n  orderPayReducer,\n  myOrderListReducer,\n  orderListReducer,\n  orderDeleteReducer,\n} from './reducers/orderReducers';\n\nconst cartItems = Cookie.getJSON('cartItems') || [];\nconst userInfo = Cookie.getJSON('userInfo') || null;\n\nconst initialState = {\n  cart: { cartItems, shipping: {}, payment: {} },\n  userSignin: { userInfo },\n};\nconst reducer = combineReducers({\n  productList: productListReducer,\n  productDetails: productDetailsReducer,\n  cart: cartReducer,\n  userSignin: userSigninReducer,\n  userRegister: userRegisterReducer,\n  productSave: productSaveReducer,\n  productDelete: productDeleteReducer,\n  productReviewSave: productReviewSaveReducer,\n  orderCreate: orderCreateReducer,\n  orderDetails: orderDetailsReducer,\n  orderPay: orderPayReducer,\n  userUpdate: userUpdateReducer,\n  myOrderList: myOrderListReducer,\n  orderList: orderListReducer,\n  orderDelete: orderDeleteReducer,\n});\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(\n  reducer,\n  initialState,\n  composeEnhancer(applyMiddleware(thunk))\n);\nexport default store;\n","import {\n  PRODUCT_LIST_REQUEST,\n  PRODUCT_LIST_SUCCESS,\n  PRODUCT_LIST_FAIL,\n  PRODUCT_DETAILS_REQUEST,\n  PRODUCT_DETAILS_SUCCESS,\n  PRODUCT_DETAILS_FAIL,\n  PRODUCT_SAVE_REQUEST,\n  PRODUCT_SAVE_SUCCESS,\n  PRODUCT_SAVE_FAIL,\n  PRODUCT_DELETE_REQUEST,\n  PRODUCT_DELETE_SUCCESS,\n  PRODUCT_DELETE_FAIL,\n  PRODUCT_REVIEW_SAVE_SUCCESS,\n  PRODUCT_REVIEW_SAVE_REQUEST,\n  PRODUCT_REVIEW_SAVE_FAIL,\n  PRODUCT_REVIEW_SAVE_RESET,\n} from '../constants/productConstants';\n\nfunction productListReducer(state = { products: [] }, action) {\n  switch (action.type) {\n    case PRODUCT_LIST_REQUEST:\n      return { loading: true, products: [] };\n    case PRODUCT_LIST_SUCCESS:\n      return { loading: false, products: action.payload };\n    case PRODUCT_LIST_FAIL:\n      return { loading: false, error: action.payload };\n    default:\n      return state;\n  }\n}\n\nfunction productDetailsReducer(state = { product: { reviews: [] } }, action) {\n  switch (action.type) {\n    case PRODUCT_DETAILS_REQUEST:\n      return { loading: true };\n    case PRODUCT_DETAILS_SUCCESS:\n      return { loading: false, product: action.payload };\n    case PRODUCT_DETAILS_FAIL:\n      return { loading: false, error: action.payload };\n    default:\n      return state;\n  }\n}\n\nfunction productDeleteReducer(state = { product: {} }, action) {\n  switch (action.type) {\n    case PRODUCT_DELETE_REQUEST:\n      return { loading: true };\n    case PRODUCT_DELETE_SUCCESS:\n      return { loading: false, product: action.payload, success: true };\n    case PRODUCT_DELETE_FAIL:\n      return { loading: false, error: action.payload };\n    default:\n      return state;\n  }\n}\n\nfunction productSaveReducer(state = { product: {} }, action) {\n  switch (action.type) {\n    case PRODUCT_SAVE_REQUEST:\n      return { loading: true };\n    case PRODUCT_SAVE_SUCCESS:\n      return { loading: false, success: true, product: action.payload };\n    case PRODUCT_SAVE_FAIL:\n      return { loading: false, error: action.payload };\n    default:\n      return state;\n  }\n}\nfunction productReviewSaveReducer(state = {}, action) {\n  switch (action.type) {\n    case PRODUCT_REVIEW_SAVE_REQUEST:\n      return { loading: true };\n    case PRODUCT_REVIEW_SAVE_SUCCESS:\n      return { loading: false, review: action.payload, success: true };\n    case PRODUCT_REVIEW_SAVE_FAIL:\n      return { loading: false, errror: action.payload };\n    case PRODUCT_REVIEW_SAVE_RESET:\n      return {};\n    default:\n      return state;\n  }\n}\n\nexport {\n  productListReducer,\n  productDetailsReducer,\n  productSaveReducer,\n  productDeleteReducer,\n  productReviewSaveReducer,\n};\n","import {\n  CART_ADD_ITEM,\n  CART_ADD_LIST_ITEM,\n  CART_REMOVE_ITEM,\n  CART_SAVE_SHIPPING,\n  CART_SAVE_PAYMENT,\n} from \"../constants/cartConstants\";\n\nfunction cartReducer(\n  state = { cartItems: [], shipping: {}, payment: {}, items: []},\n  action\n) {\n  switch (action.type) {\n    // case CART_ADD_LIST_ITEM:\n    //   const {price,quantity} = action.payload;\n    //   return [...items,{price,quantity}];\n    \n\n    // Not sure what to do here.\n    case CART_ADD_ITEM:\n      const item = action.payload;\n      const product = state.cartItems.find((x) => x.product === item.product);\n      if (product) {\n        return {\n          cartItems: state.cartItems.map((x) =>\n            x.product === product.product ? item : x\n          ),\n        };\n      }\n      return { cartItems: [...state.cartItems, item] };\n    case CART_REMOVE_ITEM:\n      return {\n        cartItems: state.cartItems.filter((x) => x.product !== action.payload),\n      };\n    case CART_SAVE_SHIPPING:\n      return { ...state, shipping: action.payload };\n    case CART_SAVE_PAYMENT:\n      return { ...state, payment: action.payload };\n    default:\n      return state;\n  }\n}\n\nexport { cartReducer };\n","import { USER_SIGNIN_REQUEST, USER_SIGNIN_SUCCESS, USER_SIGNIN_FAIL, USER_REGISTER_REQUEST, USER_REGISTER_SUCCESS, USER_REGISTER_FAIL, USER_LOGOUT, USER_UPDATE_REQUEST, USER_UPDATE_SUCCESS, USER_UPDATE_FAIL } from \"../constants/userConstants\";\n\nfunction userSigninReducer(state = {}, action) {\n  switch (action.type) {\n    case USER_SIGNIN_REQUEST:\n      return { loading: true };\n    case USER_SIGNIN_SUCCESS:\n      return { loading: false, userInfo: action.payload };\n    case USER_SIGNIN_FAIL:\n      return { loading: false, error: action.payload };\n    case USER_LOGOUT:\n      return {};\n    default: return state;\n  }\n}\n\nfunction userUpdateReducer(state = {}, action) {\n  switch (action.type) {\n    case USER_UPDATE_REQUEST:\n      return { loading: true };\n    case USER_UPDATE_SUCCESS:\n      return { loading: false, userInfo: action.payload };\n    case USER_UPDATE_FAIL:\n      return { loading: false, error: action.payload };\n    default: return state;\n  }\n}\n\nfunction userRegisterReducer(state = {}, action) {\n  switch (action.type) {\n    case USER_REGISTER_REQUEST:\n      return { loading: true };\n    case USER_REGISTER_SUCCESS:\n      return { loading: false, userInfo: action.payload };\n    case USER_REGISTER_FAIL:\n      return { loading: false, error: action.payload };\n    default: return state;\n  }\n}\nexport {\n  userSigninReducer, userRegisterReducer, userUpdateReducer\n}","import {\n  ORDER_CREATE_REQUEST, ORDER_CREATE_SUCCESS, ORDER_CREATE_FAIL,\n  ORDER_DETAILS_REQUEST, ORDER_DETAILS_SUCCESS, ORDER_DETAILS_FAIL,\n  ORDER_PAY_REQUEST, ORDER_PAY_SUCCESS, ORDER_PAY_FAIL,\n  MY_ORDER_LIST_REQUEST, MY_ORDER_LIST_SUCCESS, MY_ORDER_LIST_FAIL,\n  ORDER_LIST_REQUEST, ORDER_LIST_SUCCESS, ORDER_LIST_FAIL, ORDER_DELETE_REQUEST, ORDER_DELETE_SUCCESS, ORDER_DELETE_FAIL\n} from \"../constants/orderConstants\";\n\n\nfunction orderCreateReducer(state = {}, action) {\n  switch (action.type) {\n    case ORDER_CREATE_REQUEST:\n      return { loading: true };\n    case ORDER_CREATE_SUCCESS:\n      return { loading: false, order: action.payload, success: true };\n    case ORDER_CREATE_FAIL:\n      return { loading: false, error: action.payload };\n    default: return state;\n  }\n}\n\n\nfunction orderDetailsReducer(state = {\n  order: {\n    orderItems: [],\n    shipping: {},\n    payment: {}\n  }\n}, action) {\n  switch (action.type) {\n    case ORDER_DETAILS_REQUEST:\n      return { loading: true };\n    case ORDER_DETAILS_SUCCESS:\n      return { loading: false, order: action.payload };\n    case ORDER_DETAILS_FAIL:\n      return { loading: false, error: action.payload };\n    default: return state;\n  }\n}\n\n\nfunction myOrderListReducer(state = {\n  orders: []\n}, action) {\n  switch (action.type) {\n    case MY_ORDER_LIST_REQUEST:\n      return { loading: true };\n    case MY_ORDER_LIST_SUCCESS:\n      return { loading: false, orders: action.payload };\n    case MY_ORDER_LIST_FAIL:\n      return { loading: false, error: action.payload };\n    default: return state;\n  }\n}\n\nfunction orderListReducer(state = {\n  orders: []\n}, action) {\n  switch (action.type) {\n    case ORDER_LIST_REQUEST:\n      return { loading: true };\n    case ORDER_LIST_SUCCESS:\n      return { loading: false, orders: action.payload };\n    case ORDER_LIST_FAIL:\n      return { loading: false, error: action.payload };\n    default: return state;\n  }\n}\n\nfunction orderPayReducer(state = {\n  order: {\n    orderItems: [],\n    shipping: {},\n    payment: {}\n  }\n}, action) {\n  switch (action.type) {\n    case ORDER_PAY_REQUEST:\n      return { loading: true };\n    case ORDER_PAY_SUCCESS:\n      return { loading: false, success: true };\n    case ORDER_PAY_FAIL:\n      return { loading: false, error: action.payload };\n    default: return state;\n  }\n}\n\nfunction orderDeleteReducer(state = {\n  order: {\n    orderItems: [],\n    shipping: {},\n    payment: {}\n  }\n}, action) {\n  switch (action.type) {\n    case ORDER_DELETE_REQUEST:\n      return { loading: true };\n    case ORDER_DELETE_SUCCESS:\n      return { loading: false, success: true };\n    case ORDER_DELETE_FAIL:\n      return { loading: false, error: action.payload };\n    default: return state;\n  }\n}\nexport {\n  orderCreateReducer, orderDetailsReducer,\n  orderPayReducer, myOrderListReducer, orderListReducer, orderDeleteReducer\n}","import React from 'react';\nimport { Provider } from 'react-redux';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport store from './store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>, document.getElementById('root'));\n\n "],"sourceRoot":""}